
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pandas：図示 &#8212; 経済学のためのPython入門</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="_static/myadmonitions.css?v=372cf325" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-R9KXY9G892"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-R9KXY9G892');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-R9KXY9G892');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '5_pandas_plot';</script>
    <link rel="canonical" href="https://py4basics.github.io/5_pandas_plot.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="SciPy.optimize：解の求め方と最適化問題" href="7_SciPy_optimize.html" />
    <link rel="prev" title="Matplotlib：図示" href="4_matplotlib.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">経済学のためのPython入門</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Python入門I</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="1_Basics_I.html">基本データ型と変数</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Basics_II.html">データの操作</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Basics_III.html">関数とメソッド</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Basics_IV.html">制御フロー</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Basics_V.html">モジュールとアルゴリズム</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Basics_VI.html">図示とシミュレーション</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Python入門II</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="2_NumPy.html"><code class="docutils literal notranslate"><span class="pre">NumPy</span></code>：高速化</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_Pandas.html"><code class="docutils literal notranslate"><span class="pre">Pandas</span></code>：データ分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_matplotlib.html"><code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code>：図示</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">Pandas</span></code>：図示</a></li>
<li class="toctree-l1"><a class="reference internal" href="7_SciPy_optimize.html"><code class="docutils literal notranslate"><span class="pre">SciPy.optimize</span></code>：解の求め方と最適化問題</a></li>
<li class="toctree-l1"><a class="reference internal" href="8_NumPy_random.html"><code class="docutils literal notranslate"><span class="pre">Numpy</span></code>: ランダム変数</a></li>
<li class="toctree-l1"><a class="reference external" href="https://py4etrics.github.io/5_SciPy_stats.html">SciPy.stats：確率分布</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">参考</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="0_Preparations.html">ツールのインストールと説明</a></li>
<li class="toctree-l1"><a class="reference internal" href="things_to_note.html">Tipsと注意点</a></li>
<li class="toctree-l1"><a class="reference internal" href="pseudo_code.html">疑似コード</a></li>
<li class="toctree-l1"><a class="reference internal" href="Grade.html">学業成績の分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="Gapminder.html">Gapminder</a></li>
<li class="toctree-l1"><a class="reference internal" href="Moving_Average.html">移動平均</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">経済学</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://py4macro.github.io">Pythonで学ぶマクロ経済学（中級＋レベル）</a></li>
<li class="toctree-l1"><a class="reference external" href="https://py4etrics.github.io">Pythonで学ぶ入門計量経済学</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">JupyterLite</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://py4class.netlify.app">JupyterLiteを始める</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/Py4Basics/py4basics.github.io/source?urlpath=tree/5_pandas_plot.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/Py4Basics/py4basics.github.io/blob/source/5_pandas_plot.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>



<a href="https://github.com/Py4Basics/py4basics.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/5_pandas_plot.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Pandas：図示</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">説明</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">プロット方法</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sec-5-options">引数とメソッド</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">基本的な引数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sec-5-titlelabels">タイトルとラベルのサイズの調整</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">「軸」を指定してプロットする場合</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">図を並べる</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">２軸グラフ</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">日本語</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#japanize-matplotlib"><code class="docutils literal notranslate"><span class="pre">japanize_matplotlib</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">フォントを指定する</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">マクロ経済学の例</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">投資関数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">将来価値</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">その他のプロット</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">種類</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">散布図</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">ヒストグラム</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sec-5-kernel">カーネル密度推定プロット</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">縦線・横線</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sec-5-bar">棒グラフ</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="pandas">
<span id="chap-pandas-plot"></span><h1><code class="docutils literal notranslate"><span class="pre">Pandas</span></code>：図示<a class="headerlink" href="#pandas" title="Link to this heading">#</a></h1>
<div name="html-admonition" style="font-size: 0.8em">
<input type="button" onclick="location.href='https://translate.google.com/translate?hl=&sl=ja&tl=en&u='+window.location;" value="Google translation" style="color:#ffffff;background-color:#008080; height:25px" onmouseover="this.style.background='#99ccff'" onmouseout="this.style.background='#008080'"/> in English or the language of your choice.
</div><br><section id="id1">
<h2>説明<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">japanize_matplotlib</span>

<span class="c1"># 警告メッセージを非表示</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>プロット用のパッケージ<code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code>を紹介したが，実は<code class="docutils literal notranslate"><span class="pre">Pandas</span></code>の<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>と<code class="docutils literal notranslate"><span class="pre">Series</span></code>にはメソッド<code class="docutils literal notranslate"><span class="pre">plot()</span></code>が備えられており，それを使えば基本的なプロットをより簡単なコードで実現できる。裏で動いているのは<code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code>であり，より複雑な図を作成する場合は、<code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code>のコードを直接書くことが必要になるだろうが，手っ取り早くプロットしたい場合には重宝する手法である。詳細は<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html">参考サイト（英語）</a>を参考にして欲しいが，ここでは基本的な使い方を紹介する。</p>
<p>次の<code class="docutils literal notranslate"><span class="pre">df0</span></code>を使って説明する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dic</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;X&#39;</span><span class="p">:[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span>
       <span class="s1">&#39;Y&#39;</span><span class="p">:[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">],</span>
       <span class="s1">&#39;Z&#39;</span><span class="p">:[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]}</span>
<span class="n">df0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dic</span><span class="p">)</span>
<span class="n">df0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
      <th>Z</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10</td>
      <td>5.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20</td>
      <td>30.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>30</td>
      <td>15.0</td>
      <td>5.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id2">
<h2>プロット方法<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>プロット方法は簡単で，メソッド<code class="docutils literal notranslate"><span class="pre">.plot()</span></code>を使うと全ての列がプロットされる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="_images/d540b15314e6955f75c1dd842c08862ea01d0146ed149532aa727215382b0441.png" src="_images/d540b15314e6955f75c1dd842c08862ea01d0146ed149532aa727215382b0441.png" />
</div>
</div>
<ul class="simple">
<li><p>デフォルトでは横軸に行インデックスが使われ、<code class="docutils literal notranslate"><span class="pre">float</span></code>として扱われて表示されている。</p></li>
<li><p>凡例は自動的に表示され、列ラベルが使われる。</p></li>
<li><p>図の上に文字が表示されるが，表示したくない場合は最後に<code class="docutils literal notranslate"><span class="pre">;</span></code>を加えるか次の行に<code class="docutils literal notranslate"><span class="pre">pass</span></code>と書くと良いだろう。</p></li>
</ul>
<p>次にある列だけをプロットしたい場合を考えよう。その場合は，プロットしたい列を抽出しメソッド<code class="docutils literal notranslate"><span class="pre">plot()</span></code>を使う。選択には<code class="docutils literal notranslate"><span class="pre">[]</span></code>を使い，その中に列ラベルをリストとして指定する。まず１つの列を選択する場合を考えよう。例えば，<code class="docutils literal notranslate"><span class="pre">X</span></code>を選択するとしよう。この場合、２つの方法がある。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span></code>を<code class="docutils literal notranslate"><span class="pre">Series</span></code>として抽出する場合</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span></code>を<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>として抽出する場合</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;X&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<p>ここでは<code class="docutils literal notranslate"><span class="pre">X</span></code>をリスト<code class="docutils literal notranslate"><span class="pre">['X']</span></code>として使っている。</p>
</li>
</ul>
<p>列ラベルは文字列<code class="docutils literal notranslate"><span class="pre">X</span></code>で指定していることに留意しよう。</p>
<p>まず<code class="docutils literal notranslate"><span class="pre">X</span></code>の<code class="docutils literal notranslate"><span class="pre">Series</span></code>として抽出しよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    10
1    20
2    30
Name: X, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>次に<code class="docutils literal notranslate"><span class="pre">X</span></code>を<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>として抽出する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;X&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20</td>
    </tr>
    <tr>
      <th>2</th>
      <td>30</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>表示が少し異なることが確認できるが，メソッド<code class="docutils literal notranslate"><span class="pre">plot()</span></code>でも少しだけ違いがある。まず<code class="docutils literal notranslate"><span class="pre">X</span></code>を<code class="docutils literal notranslate"><span class="pre">Series</span></code>としてプロットしてみる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bfe8eb586c35353867337e54d047fd628a966b1bcd47851c5e08bab8342f8f6d.png" src="_images/bfe8eb586c35353867337e54d047fd628a966b1bcd47851c5e08bab8342f8f6d.png" />
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">X</span></code>を<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>としてプロットすると凡例も表示される。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;X&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/40b97b06407ac9cb9d67a24fab57d99c3d30c83f620740c865180647307e60a9.png" src="_images/40b97b06407ac9cb9d67a24fab57d99c3d30c83f620740c865180647307e60a9.png" />
</div>
</div>
<p>この場合の凡例は列ラベルがそのまま使われている。</p>
<p>次に<code class="docutils literal notranslate"><span class="pre">X</span></code>と<code class="docutils literal notranslate"><span class="pre">Z</span></code>をプロットしたいとしよう。２つの列を抽出するためには，以下のように列ラベルをリストとして書く。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="s1">&#39;Z&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Z</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>30</td>
      <td>5.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>メソッド<code class="docutils literal notranslate"><span class="pre">plot()</span></code>を使いプロットする。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="s1">&#39;Z&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f2607e7cdd2c3a8cb769d2cf305972190b3bfb83ee55cc7e4dbef6cfd22b307d.png" src="_images/f2607e7cdd2c3a8cb769d2cf305972190b3bfb83ee55cc7e4dbef6cfd22b307d.png" />
</div>
</div>
<p>もしくは<code class="docutils literal notranslate"><span class="pre">Series</span></code>を2行に分けても同じ図となるが，凡例は表示されない。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">df0</span><span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f080d95b59b862ff26fff02f562f23b0820a848cc71179ac1f29eee78c9b340d.png" src="_images/f080d95b59b862ff26fff02f562f23b0820a848cc71179ac1f29eee78c9b340d.png" />
</div>
</div>
<p>デフォルトでは横軸に行インデックスが使われるが，横軸を指定したい場合は，次の引数を使う。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>：横軸に使う列ラベル</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>：縦軸に使う列ラベル（複数の場合はリスト）</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="s1">&#39;Z&#39;</span><span class="p">])</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e276f834fa4caef7dedfbf23a6625dd57aae073342e42280a0bdc0376bed9d4a.png" src="_images/e276f834fa4caef7dedfbf23a6625dd57aae073342e42280a0bdc0376bed9d4a.png" />
</div>
</div>
</section>
<section id="sec-5-options">
<span id="id3"></span><h2>引数とメソッド<a class="headerlink" href="#sec-5-options" title="Link to this heading">#</a></h2>
<section id="id4">
<h3>基本的な引数<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">plot()</span></code>には様々な引数があり図に「飾り付け」をすることができる。詳しくは<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.html">このリンク</a>を参照することにして，ここでは基本的な引数だけを紹介する。</p>
<!-- * `title`：図のタイトル（文字列型で指定） -->
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">style</span></code>：線のスタイル（複数ある場合はリストにして列の順番で指定する;<code class="docutils literal notranslate"><span class="pre">-</span></code>，<code class="docutils literal notranslate"><span class="pre">--</span></code>，<code class="docutils literal notranslate"><span class="pre">-.</span></code>，<code class="docutils literal notranslate"><span class="pre">:</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linewidth</span></code> or <code class="docutils literal notranslate"><span class="pre">lw</span></code>：線の幅</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color</span></code>：色（リストにして列の順番で指定する; <a class="reference external" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html">参照サイト</a>）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>は赤</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>は黒</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code>はグリーン</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">marker</span></code>：観測値のマーカー（<code class="docutils literal notranslate"><span class="pre">o</span></code>，<code class="docutils literal notranslate"><span class="pre">.</span></code>，<code class="docutils literal notranslate"><span class="pre">&gt;</span></code>，<code class="docutils literal notranslate"><span class="pre">^</span></code>などがある; <a class="reference external" href="https://matplotlib.org/3.2.2/api/markers_api.html">参照サイト</a>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">markersize</span></code>：マーカーの大きさ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fontsize</span></code>：横軸・縦軸の数字のフォントサイズの設定</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize</span></code>：図の大きさ</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize=(キャンバスの横幅、キャンバスの縦の長さ)</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">legend</span></code>：凡例の表示を指定</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>の場合はデフォルトは<code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code>の場合はデフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p>複数の図を表示する際は下で説明する「軸」のメソッドとして指定することもできる。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">label</span></code>：凡例の表現を指定（<code class="docutils literal notranslate"><span class="pre">Series</span></code>のみ有効）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grid</span></code>：グリッド表示（ブール型;デフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p>
<ul>
<li><p>複数の図を表示する際は，この引数は使わずに下で説明する「軸」のメソッドとして指定する。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span></code>：プロットする「軸」を指定する。</p>
<ul>
<li><p>１つの「軸」に複数の図を表示する際に使う（後で使い方を説明する）。</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df0はDataFrame</span>

<span class="n">df0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">],</span>
         <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
         <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="s1">&#39;g&#39;</span><span class="p">],</span>
         <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
         <span class="n">markersize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
         <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
         <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>   <span class="c1"># 8は横軸、4は縦軸のサイズ</span>
         <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
         <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fe262b887630ac4a6681033bc18a82d7d8eb174401a90d25ecb083f5ff27e5ff.png" src="_images/fe262b887630ac4a6681033bc18a82d7d8eb174401a90d25ecb083f5ff27e5ff.png" />
</div>
</div>
</section>
<section id="sec-5-titlelabels">
<span id="id5"></span><h3>タイトルとラベルのサイズの調整<a class="headerlink" href="#sec-5-titlelabels" title="Link to this heading">#</a></h3>
<p>タイトルのフォント・サイズの指定，横軸と縦軸のラベルとフォント・サイズの指定をおこなう場合は、<code class="docutils literal notranslate"><span class="pre">plot()</span></code>の引数ではなく下で説明する方法でおこなう。この方法を理解するために、<code class="docutils literal notranslate"><span class="pre">Pandas</span></code>（実は<code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code>）が表示する図は<a class="reference internal" href="#fig-5-figure-axes"><span class="std std-numref">Fig. 4</span></a>で示している階層的な構造となることをイメージして欲しい。ここで重要なのは「キャンバス」と「軸」の違いである。</p>
<figure class="align-default" id="fig-5-figure-axes">
<a class="reference internal image-reference" href="_images/figure_axes_pandas.png"><img alt="_images/figure_axes_pandas.png" src="_images/figure_axes_pandas.png" style="width: 473.6px; height: 428.8px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">「キャンバス」と「軸」の関係</span><a class="headerlink" href="#fig-5-figure-axes" title="Link to this image">#</a></p>
</figcaption>
</figure>
<ol class="arabic simple">
<li><p>「キャンバス」とは実際に表示される<strong>領域</strong>であり，実際には表示されない「透明のキャンバス」である。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">figure</span></code>や<code class="docutils literal notranslate"><span class="pre">fig</span></code>などの変数名や引数名があれば、「キャンバス」を指していると理解すれば良いだろう。</p></li>
</ul>
</li>
<li><p>「軸」とは１つの図を表示する「キャンバス」上の<strong>区域</strong>である。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span></code>や<code class="docutils literal notranslate"><span class="pre">axes</span></code>などの変数名があれば、「軸」を表していると理解すれば良いだろう。</p></li>
<li><p>「キャンバス」上に複数の図を表示する場合は複数の「軸」が必要となる。</p></li>
<li><p>「軸」に図のタイトルや縦軸・横軸のラベルなどを追加することになる。</p></li>
</ul>
</li>
</ol>
<p>「軸」の中にメソッド<code class="docutils literal notranslate"><span class="pre">.plot()</span></code>を使いグラフを表示することになる。</p>
<p>従って，概ね次のように理解して良いだろう。</p>
<ul class="simple">
<li><p>上で説明した「基本的な引数」は上の図のピンクのエリア内での変更となる。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize</span></code>は「キャンバス」の大きさを指定する引数だが，メソッド<code class="docutils literal notranslate"><span class="pre">plot()</span></code>は自動で「キャンバス」を作成するため<code class="docutils literal notranslate"><span class="pre">plot()</span></code>内で変更できるようになっている。</p></li>
</ul>
</li>
<li><p>タイトルや縦・横軸ラベルは「軸」のメソッドを使い変更する。</p></li>
</ul>
<p>では実際に手順を説明する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">df0.plot()</span></code>は自動で「キャンバス」と「軸」を作成すると同時に「軸」を返す。それを変数（例えば，<code class="docutils literal notranslate"><span class="pre">ax</span></code>）に割り当てる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span></code>のメソッドを使って以下を設定する。</p>
<ul>
<li><p>タイトル：<code class="docutils literal notranslate"><span class="pre">.set_title()</span></code></p></li>
<li><p>横軸ラベル：<code class="docutils literal notranslate"><span class="pre">.set_xlabel()</span></code></p></li>
<li><p>縦軸ラベル：<code class="docutils literal notranslate"><span class="pre">.set_ylabel()</span></code></p></li>
</ul>
</li>
</ul>
<p>実際にそれらの引数を使ってプロットしてみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">df0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
              <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
              <span class="n">style</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">],</span>
              <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
              <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
             <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;A Large Title&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span> <span class="mi">30</span><span class="p">)</span>     <span class="c1"># タイトルの設定</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Horizontal Axis&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>   <span class="c1"># 横軸ラベルの設定</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Vertical Axis&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>     <span class="c1"># 縦軸ラベルの設定</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4f09f975a224dee8d75831cb48fa03571f67de4a4623d32953121003bdecf441.png" src="_images/4f09f975a224dee8d75831cb48fa03571f67de4a4623d32953121003bdecf441.png" />
</div>
</div>
</section>
<section id="id6">
<h3>「軸」を指定してプロットする場合<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>上で「軸」のメソッドとしてタイトルなどを追加できることを説明したが，<code class="docutils literal notranslate"><span class="pre">plot()</span></code>の引数として「軸」を指定して図を追加することができる。次のコードを考えてみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax_</span> <span class="o">=</span> <span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="s1">&#39;Y&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>  <span class="c1"># 1行目</span>
<span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;Z&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax_</span><span class="p">)</span>      <span class="c1"># 2行目</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d540b15314e6955f75c1dd842c08862ea01d0146ed149532aa727215382b0441.png" src="_images/d540b15314e6955f75c1dd842c08862ea01d0146ed149532aa727215382b0441.png" />
</div>
</div>
<p>１行目の右辺では「キャンバス」と「軸」が自動生成され，その内「軸」のみが返され変数<code class="docutils literal notranslate"><span class="pre">ax_</span></code>に割り当てられている。２行目の<code class="docutils literal notranslate"><span class="pre">plot()</span></code>の引数<code class="docutils literal notranslate"><span class="pre">ax</span></code>は「軸」を指定する引数であり，それに<code class="docutils literal notranslate"><span class="pre">ax_</span></code>を設定している。即ち，<code class="docutils literal notranslate"><span class="pre">Z</span></code>を「軸」<code class="docutils literal notranslate"><span class="pre">ax_</span></code>にプロットすることを指定している。このコードには２つの利点がある。</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span></code>と<code class="docutils literal notranslate"><span class="pre">Y</span></code>と異なる「飾り付け」を<code class="docutils literal notranslate"><span class="pre">Z</span></code>に簡単に施すことができる。</p></li>
<li><p>２行目に<code class="docutils literal notranslate"><span class="pre">df0</span></code>ではなく別の<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>を使うことも可能となる。</p></li>
</ol>
<p>もちろん，タイトルや軸ラベルのメソッドをつけ加えることも可能である。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax_</span> <span class="o">=</span> <span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="s1">&#39;Y&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">markersize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;Z&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax_</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;^&#39;</span><span class="p">,</span><span class="n">markersize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;This is a title&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Horizontal axis&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Vertical axis&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Xの凡例&#39;</span><span class="p">,</span><span class="s1">&#39;Yの凡例&#39;</span><span class="p">,</span><span class="s1">&#39;Zの凡例&#39;</span><span class="p">])</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4cf0bc87a1dd12c21da0e15c9b50e0be167ed29b1622b31e6d805acc24e1dffb.png" src="_images/4cf0bc87a1dd12c21da0e15c9b50e0be167ed29b1622b31e6d805acc24e1dffb.png" />
</div>
</div>
<p>また上のコードの最後に２行を付け加えているので便利なので参考にして欲しい。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ax_.grid()</span></code>：グリッド線を表示するメソッド。</p>
<ul>
<li><p>１つの「軸」に<code class="docutils literal notranslate"><span class="pre">plot</span></code>を複数回適用する場合，個々の<code class="docutils literal notranslate"><span class="pre">plot</span></code>の引数<code class="docutils literal notranslate"><span class="pre">grid=True</span></code>を使わず<code class="docutils literal notranslate"><span class="pre">ax_.grid()</span></code>を指定する。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax_.legend(['Xの凡例','Yの凡例','Zの凡例'])</span></code></p>
<ul>
<li><p>凡例に列ラベルではなく他の表現を指定したい場合に使う。</p></li>
</ul>
</li>
</ul>
</section>
<section id="id7">
<h3>図を並べる<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>図を縦に並べるには<code class="docutils literal notranslate"><span class="pre">subplots=True</span></code>を指定する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">subplots</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9b06faf0c509718591e8b7e7051a83eb0207f14d5e47ec3e56246a4a1dc35eda.png" src="_images/9b06faf0c509718591e8b7e7051a83eb0207f14d5e47ec3e56246a4a1dc35eda.png" />
</div>
</div>
<p>図を横に並べるには<code class="docutils literal notranslate"><span class="pre">layout=(1,3)</span></code>を付け加える。<code class="docutils literal notranslate"><span class="pre">layout</span></code>は図の配置を行列のように考えて指定し、<code class="docutils literal notranslate"><span class="pre">1</span></code>は行の数であり、<code class="docutils literal notranslate"><span class="pre">3</span></code>は列の数。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>layout(行の数、列の数)
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">subplots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6ad5923077079b11bfdf81d952cc394b623a5e1610224d33888f198f58d4b288.png" src="_images/6ad5923077079b11bfdf81d952cc394b623a5e1610224d33888f198f58d4b288.png" />
</div>
</div>
</section>
<section id="id8">
<h3>２軸グラフ<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<p>左軸を<code class="docutils literal notranslate"><span class="pre">X</span></code>と<code class="docutils literal notranslate"><span class="pre">Y</span></code>に，右軸を<code class="docutils literal notranslate"><span class="pre">Z</span></code>に使うとしよう。その場合，引数<code class="docutils literal notranslate"><span class="pre">secondary_y</span></code>に<code class="docutils literal notranslate"><span class="pre">Z</span></code>を設定する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">secondary_y</span><span class="o">=</span><span class="s1">&#39;Z&#39;</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6e5eec5c56283af3ab7fed30341edbfb6d2d353f4260c1bf3d1aa4c0c1ead0cd.png" src="_images/6e5eec5c56283af3ab7fed30341edbfb6d2d353f4260c1bf3d1aa4c0c1ead0cd.png" />
</div>
</div>
<p>別々の飾り付けをする場合は次のようにすると良いだろう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax_</span> <span class="o">=</span> <span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="s1">&#39;Y&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">df0</span><span class="p">[[</span><span class="s1">&#39;Z&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span>
                <span class="n">secondary_y</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax_</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5bb09dba09a5e98aa95f205a7cad2138cf47de89b1e8017b688c5de449e6bde7.png" src="_images/5bb09dba09a5e98aa95f205a7cad2138cf47de89b1e8017b688c5de449e6bde7.png" />
</div>
</div>
<p>上の図との主な違いが３行目にある</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">secondary_y=True</span></code>：<code class="docutils literal notranslate"><span class="pre">Z</span></code>を右軸に使うことを指定する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax=ax_</span></code>：「軸」<code class="docutils literal notranslate"><span class="pre">ax_</span></code>に<code class="docutils literal notranslate"><span class="pre">Z</span></code>をプロットする。</p></li>
</ul>
</section>
</section>
<section id="id9">
<h2>日本語<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<p>２つ方法を紹介するが、<code class="docutils literal notranslate"><span class="pre">japanize_matplotlib</span></code>を使う方法がより簡単であろう。</p>
<section id="japanize-matplotlib">
<h3><code class="docutils literal notranslate"><span class="pre">japanize_matplotlib</span></code><a class="headerlink" href="#japanize-matplotlib" title="Link to this heading">#</a></h3>
<p>使い方は到って簡単で、<code class="docutils literal notranslate"><span class="pre">Pandas</span></code>と同様にインポートするだけである。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">japanize_matplotlib</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">df0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">grid</span><span class="o">=</span><span class="kc">True</span>
             <span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">]</span>
             <span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span>
             <span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span>
             <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;縦横タイトル&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;横軸&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;縦軸&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d757c4264348702025356b67ced16905de46f629cb6bfd548268f634ba7c9476.png" src="_images/d757c4264348702025356b67ced16905de46f629cb6bfd548268f634ba7c9476.png" />
</div>
</div>
</section>
<section id="id10">
<h3>フォントを指定する<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p>2つの方法：</p>
<ol class="arabic simple">
<li><p>フォントはインストールせず、PC内にあるフォントを指定する。</p></li>
<li><p>フォントをインストールする方法</p></li>
</ol>
<p>方法１の場合、以下で説明に使う変数<code class="docutils literal notranslate"><span class="pre">jfont</span></code>にフォントを指定する。
* Macの場合、例えば<code class="docutils literal notranslate"><span class="pre">AppleGothic</span></code>
* Windowsの場合、例えば<code class="docutils literal notranslate"><span class="pre">Yu</span> <span class="pre">Gothic</span></code>
* この方法では一部の日本語が文字化けする場合がある。</p>
<p>方法２の場合：</p>
<ul class="simple">
<li><p><a class="reference external" href="https://ipafont.ipa.go.jp/node193#jp">このサイト</a>から次の内の１つをダウンロードする。</p>
<ul>
<li><p>2書体パック(IPAex明朝(<a class="reference external" href="http://Ver.xxx">Ver.xxx</a>)、IPAexゴシック(<a class="reference external" href="http://Ver.xxx">Ver.xxx</a>))</p></li>
<li><p>IPAex明朝 (<a class="reference external" href="http://Ver.xxx">Ver.xxx</a>)</p></li>
<li><p>IPAexゴシック(<a class="reference external" href="http://Ver.xxx">Ver.xxx</a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://ipafont.ipa.go.jp/node72#jp">このサイト</a>に従ってインストールする。</p></li>
<li><p>次の両方もしくは１つがPCにインストールされる</p>
<ul>
<li><p>IPAexMincho（IPAex明朝）</p></li>
<li><p>IPAexGothic（IPAexゴシック）</p></li>
</ul>
</li>
</ul>
<p>上の例を使い、設定方法の例を示す。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">jfont</span> <span class="o">=</span> <span class="s1">&#39;IPAexGothic&#39;</span>    <span class="c1"># (1)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">df0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">grid</span><span class="o">=</span><span class="kc">True</span>
             <span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">]</span>
             <span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span>
             <span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span>
             <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;縦横タイトル&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span> <span class="mi">30</span><span class="p">,</span> <span class="n">fontname</span><span class="o">=</span><span class="n">jfont</span><span class="p">)</span>   <span class="c1"># (2)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;横軸&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fontname</span><span class="o">=</span><span class="n">jfont</span><span class="p">)</span>          <span class="c1"># (3)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;縦軸&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fontname</span><span class="o">=</span><span class="n">jfont</span><span class="p">)</span>          <span class="c1"># (4)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="n">jfont</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">17</span><span class="p">})</span>            <span class="c1"># (5)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9ad9629edee4c8da430a7dd5342ab120e4471edd40a2cc36754b95858fdd6b79.png" src="_images/9ad9629edee4c8da430a7dd5342ab120e4471edd40a2cc36754b95858fdd6b79.png" />
</div>
</div>
<blockquote>
<div><ul class="simple">
<li><p>(1) 使用するフォントを<code class="docutils literal notranslate"><span class="pre">jfont</span></code>に割り当てる。</p></li>
<li><p>(2) 引数<code class="docutils literal notranslate"><span class="pre">fontname</span></code>で<code class="docutils literal notranslate"><span class="pre">jfont</span></code>を指定する。タイトルのフォントが変更される。</p></li>
<li><p>(3) 引数<code class="docutils literal notranslate"><span class="pre">fontname</span></code>で<code class="docutils literal notranslate"><span class="pre">jfont</span></code>を指定する。横軸名のフォントが変更される。</p></li>
<li><p>(4) 引数<code class="docutils literal notranslate"><span class="pre">fontname</span></code>で<code class="docutils literal notranslate"><span class="pre">jfont</span></code>を指定する。縦軸名のフォントが変更される。</p></li>
<li><p>(5) <code class="docutils literal notranslate"><span class="pre">legend</span></code>は他と設定方法が異なる。
* <code class="docutils literal notranslate"><span class="pre">prop</span></code>はフォントのプロパティを設定する引数であり、辞書で指定する。
* キー<code class="docutils literal notranslate"><span class="pre">family</span></code>に値<code class="docutils literal notranslate"><span class="pre">jfont</span></code>を指定する。凡例のフォントが変更される。
* キー<code class="docutils literal notranslate"><span class="pre">size</span></code>に数値を設定してフォントの大きさが変更される。</p></li>
</ul>
</div></blockquote>
<p>この例では個別にフォントを設定したが、一括で全てのフォントを変更する方法もあるが説明は割愛する。</p>
</section>
</section>
<section id="id11">
<h2>マクロ経済学の例<a class="headerlink" href="#id11" title="Link to this heading">#</a></h2>
<section id="id12">
<h3>投資関数<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<p>実質利子率<code class="docutils literal notranslate"><span class="pre">r</span></code>によって投資がどのように変化するかを考えてみよう。まず投資関数を次のように仮定する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">investment</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">100</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">r</span><span class="p">)</span><span class="o">**</span><span class="mi">50</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">100</span></code>：実質利子率が<code class="docutils literal notranslate"><span class="pre">0</span></code>の場合の投資</p></li>
</ul>
<p>実質利子率は次の<code class="docutils literal notranslate"><span class="pre">array</span></code>で与えられるとする。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.11</span><span class="p">,</span><span class="mf">0.01</span><span class="p">)</span>
<span class="n">r_arr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1 ])
</pre></div>
</div>
</div>
</div>
<p>次に関数<code class="docutils literal notranslate"><span class="pre">investment</span></code>と<code class="docutils literal notranslate"><span class="pre">r_arr</span></code>を使い投資の<code class="docutils literal notranslate"><span class="pre">array</span></code>を作成しよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inv_arr</span> <span class="o">=</span> <span class="n">investment</span><span class="p">(</span><span class="n">r_arr</span><span class="p">)</span>
<span class="n">inv_arr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([60.80388247, 37.15278821, 22.81070798, 14.07126153,  8.7203727 ,
        5.42883618,  3.39477594,  2.13212286,  1.34485389,  0.85185513])
</pre></div>
</div>
</div>
</div>
<p>これらのデータを使い<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>を作成する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_inv</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;investment&#39;</span><span class="p">:</span><span class="n">inv_arr</span><span class="p">,</span>
                       <span class="s1">&#39;interest_rate&#39;</span><span class="p">:</span><span class="n">r_arr</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<p>最初の5行を表示する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_inv</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>investment</th>
      <th>interest_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>60.803882</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>1</th>
      <td>37.152788</td>
      <td>0.02</td>
    </tr>
    <tr>
      <th>2</th>
      <td>22.810708</td>
      <td>0.03</td>
    </tr>
    <tr>
      <th>3</th>
      <td>14.071262</td>
      <td>0.04</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8.720373</td>
      <td>0.05</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>ではプロットしてみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_inv</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;interest_rate&#39;</span><span class="p">,</span><span class="s1">&#39;investment&#39;</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/056478a4514357d3986bb63cc9b8efdea11015a83ba0f77335d88b6aa5efaae3.png" src="_images/056478a4514357d3986bb63cc9b8efdea11015a83ba0f77335d88b6aa5efaae3.png" />
</div>
</div>
</section>
<section id="id13">
<h3>将来価値<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code>万円を実質年率<code class="docutils literal notranslate"><span class="pre">r</span></code>%の利息を得る金融商品に投資し，<code class="docutils literal notranslate"><span class="pre">t</span></code>年間の将来価値（期首の値）をリストで示す関数は以下で与えられた。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_futre_value</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    
    <span class="n">value_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>           <span class="c1"># 初期値が入ったリスト</span>
    
    <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>  <span class="c1"># 1からtまでの期間</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">r</span><span class="p">)</span>            <span class="c1"># 来期のxの値の計算</span>
        <span class="n">value_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>   <span class="c1"># リストに追加</span>
    
    <span class="k">return</span> <span class="n">value_list</span>          <span class="c1"># リストを返す</span>
</pre></div>
</div>
</div>
</div>
<p>これを使い，</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>=<code class="docutils literal notranslate"><span class="pre">100</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>=<code class="docutils literal notranslate"><span class="pre">30</span></code></p></li>
</ul>
<p>の下で実質利子率が次のリストで与えられる値を取る場合の将来価値を図示する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r_list</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.06</span><span class="p">]</span>   <span class="c1"># 実質利子率のリスト</span>
<span class="n">dic</span> <span class="o">=</span> <span class="p">{}</span>                      <span class="c1"># 空の辞書</span>

<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">r_list</span><span class="p">:</span>
    <span class="n">dic</span><span class="p">[</span><span class="s1">&#39;r=&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">)]</span> <span class="o">=</span> <span class="n">calculate_futre_value</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>  <span class="c1"># 辞書に追加</span>

<span class="n">df_future</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dic</span><span class="p">)</span> <span class="c1"># DataFrameの作成</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">dic['r='+str(r)]</span></code>の説明：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">str(r)</span></code>：<code class="docutils literal notranslate"><span class="pre">r_list</span></code>の要素のダミーである<code class="docutils literal notranslate"><span class="pre">r</span></code>は浮動小数点型なので関数<code class="docutils literal notranslate"><span class="pre">str()</span></code>を使って文字列型に変換する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'r='+str(r)</span></code>：文字列型の<code class="docutils literal notranslate"><span class="pre">r=</span></code>と文字列型の<code class="docutils literal notranslate"><span class="pre">str(r)</span></code>を<code class="docutils literal notranslate"><span class="pre">+</span></code>で結合する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dic['r='+str(r)]</span></code>：辞書<code class="docutils literal notranslate"><span class="pre">dic</span></code>にキー・値のペアを作成する。</p>
<ul>
<li><p>キー：<code class="docutils literal notranslate"><span class="pre">'r='+str(r)</span></code></p></li>
<li><p>値：<code class="docutils literal notranslate"><span class="pre">calculate_futre_value(100,</span> <span class="pre">r,</span> <span class="pre">30)</span></code>の返り値</p></li>
</ul>
</li>
</ul>
<p>最初の5行を表示する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_future</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>r=0.01</th>
      <th>r=0.03</th>
      <th>r=0.06</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100.000000</td>
      <td>100.000000</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>101.000000</td>
      <td>103.000000</td>
      <td>106.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>102.010000</td>
      <td>106.090000</td>
      <td>112.360000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>103.030100</td>
      <td>109.272700</td>
      <td>119.101600</td>
    </tr>
    <tr>
      <th>4</th>
      <td>104.060401</td>
      <td>112.550881</td>
      <td>126.247696</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>最後の5行を表示する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_future</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>r=0.01</th>
      <th>r=0.03</th>
      <th>r=0.06</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>26</th>
      <td>129.525631</td>
      <td>215.659127</td>
      <td>454.938296</td>
    </tr>
    <tr>
      <th>27</th>
      <td>130.820888</td>
      <td>222.128901</td>
      <td>482.234594</td>
    </tr>
    <tr>
      <th>28</th>
      <td>132.129097</td>
      <td>228.792768</td>
      <td>511.168670</td>
    </tr>
    <tr>
      <th>29</th>
      <td>133.450388</td>
      <td>235.656551</td>
      <td>541.838790</td>
    </tr>
    <tr>
      <th>30</th>
      <td>134.784892</td>
      <td>242.726247</td>
      <td>574.349117</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_future</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e21cc3891c5aa7b521f57cb337f4318a7300bfdfcae034b97b5060e84bc10a0d.png" src="_images/e21cc3891c5aa7b521f57cb337f4318a7300bfdfcae034b97b5060e84bc10a0d.png" />
</div>
</div>
</section>
</section>
<section id="id14">
<h2>その他のプロット<a class="headerlink" href="#id14" title="Link to this heading">#</a></h2>
<section id="id15">
<h3>種類<a class="headerlink" href="#id15" title="Link to this heading">#</a></h3>
<p>メソッド<code class="docutils literal notranslate"><span class="pre">.plot()</span></code>には様々な引数が用意されているが，その中に<code class="docutils literal notranslate"><span class="pre">kind</span></code>がある。次を文字列として指定すると様々な種類のプロットが可能となる。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">line</span></code>：ライン・プロット</p>
<ul>
<li><p>デフォルトの値であり，上で説明した直線・曲線のプロットとなる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot()</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.line()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.line.html">プロットの例</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">bar</span></code>：縦向きの棒グラフ（カテゴリーなどの離散変数に使う）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot(kind='bar')</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.bar()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.bar.html">プロットの例</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">barh</span></code>：横向き棒グラフ（カテゴリーなどの離散変数に使う）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">barh</span></code>の<code class="docutils literal notranslate"><span class="pre">h</span></code>はHorizontalのH</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot(kind='hbar')</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.hbar()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.barh.html">プロットの例</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">hist</span></code>：ヒストグラム（連続変数に使う）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">hist</span></code>はHISTogramのHIST</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot(kind='hist')</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.hist()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.hist.html">プロットの例</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">box</span></code>：ボックスプロット</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot(kind='box')</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.box()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.box.html">プロットの例</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">kde</span></code>：カーネル密度推定プロット</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">kde</span></code>はKernel Density EstimateのKDE</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot(kind='kde')</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.kde()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.kde.html">プロットの例</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">density</span></code>：<code class="docutils literal notranslate"><span class="pre">kde</span></code>と同じ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">area</span></code>：エリア・プロット</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot(kind='area')</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.area()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.area.html">プロットの例</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">pie</span></code>：パイチャート</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot(kind='pie')</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.pie()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.pie.html">プロットの例</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">scatter</span></code>：散布図（<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>のみ）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot(kind='scatter')</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.scatter()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.scatter.html">プロットの例</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">hexbin</span></code>： : 六角形プロット（<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>のみ）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.plot(kind='hexbin')</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot.hexbin()</span></code>と同じでもある。</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.hexbin.html">プロットの例</a></p></li>
</ul>
</li>
</ul>
<p>上で説明した<a class="reference internal" href="#sec-5-options"><span class="std std-ref">ライン・プロットの引数</span></a>は他のプロットと共通のものが多いが，それぞれ独自の引数もある。</p>
<p>以下では散布図，ヒストグラム，カーネル密度推定プロット，棒グラフについて説明する。</p>
<p>説明には次のコードで生成する<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>を使う。列<code class="docutils literal notranslate"><span class="pre">X</span></code>と<code class="docutils literal notranslate"><span class="pre">Y</span></code>には標準正規分布（平均<code class="docutils literal notranslate"><span class="pre">0</span></code>，標準偏差<code class="docutils literal notranslate"><span class="pre">1</span></code>）から生成した100個のランダム変数が含まれている。<code class="docutils literal notranslate"><span class="pre">Z</span></code>には正規分布（平均<code class="docutils literal notranslate"><span class="pre">2</span></code>，標準偏差<code class="docutils literal notranslate"><span class="pre">1</span></code>）から抽出した100個のランダム変数が格納されている。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;X&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
                    <span class="s1">&#39;Y&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
                    <span class="s1">&#39;Z&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)})</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">X</span></code>，<code class="docutils literal notranslate"><span class="pre">Y</span></code>は同じ標準正規分布から生成されているが，異なる値から構成されている。</p>
</section>
<section id="id16">
<h3>散布図<a class="headerlink" href="#id16" title="Link to this heading">#</a></h3>
<p>散布図をプロットする場合は次の構文となる。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>df1.plot(＜横軸の列ラベル＞, ＜縦軸の列ラベル＞, kind=&#39;scatter&#39;)
</pre></div>
</div>
<p>列<code class="docutils literal notranslate"><span class="pre">X</span></code>と<code class="docutils literal notranslate"><span class="pre">Y</span></code>を使ってプロットしてみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f5a5a690e7188b58d994085e5d0702dbc61db2a9167384a89b3d05cd893f0d67.png" src="_images/f5a5a690e7188b58d994085e5d0702dbc61db2a9167384a89b3d05cd893f0d67.png" />
</div>
</div>
<p><strong>＜基本的な引数＞</strong></p>
<p>様々な引数があり図に「飾り付け」をすることができる。詳しくは<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.scatter.html">このリンク</a>を参照することにして，ここでは基本的な引数だけを紹介する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code>：図のタイトル（文字列型で指定）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color</span></code>：色（リストにして列の順番で指定する; <a class="reference external" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html">参照サイト</a>）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>は赤</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>は黒</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code>はグリーン</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">marker</span></code>：観測値のマーカー（<code class="docutils literal notranslate"><span class="pre">o</span></code>，<code class="docutils literal notranslate"><span class="pre">.</span></code>，<code class="docutils literal notranslate"><span class="pre">&gt;</span></code>，<code class="docutils literal notranslate"><span class="pre">^</span></code>などがある; <a class="reference external" href="https://matplotlib.org/3.2.2/api/markers_api.html">参照サイト</a>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code>：マーカーの大きさ（<code class="docutils literal notranslate"><span class="pre">markersize</span></code>ではない！）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fontsize</span></code>：横軸・縦軸の数字のフォントサイズの設定</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize</span></code>：図の大きさ</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize=(キャンバスの横幅、キャンバスの縦の長さ)</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">legend</span></code>：凡例の表示を指定</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>の場合はデフォルトは<code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code>の場合はデフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">label</span></code>：凡例の表現を指定（<code class="docutils literal notranslate"><span class="pre">Series</span></code>のみ有効）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grid</span></code>：グリッド表示（ブール型;デフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span></code>：プロットする「軸」を指定する。</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df1はDataFrame</span>

<span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span>
         <span class="n">title</span><span class="o">=</span><span class="s1">&#39;タイトルです&#39;</span><span class="p">,</span>
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
         <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;^&#39;</span><span class="p">,</span>
         <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
         <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
         <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="c1">#          legend=True,</span>
         <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span>
         <span class="n">grid</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/56e298a1828e92a78f05e5c06e45cc76aeed8f014fdea8b03fed4eec676115fa.png" src="_images/56e298a1828e92a78f05e5c06e45cc76aeed8f014fdea8b03fed4eec676115fa.png" />
</div>
</div>
<p>この図ではタイトルと横軸・縦軸ラベルの大きさが調整できていないが，上で説明した<a class="reference internal" href="#sec-5-titlelabels"><span class="std std-ref">タイトルとラベルのサイズの調整</span></a>のコードと共通なので，そちらを参照しよう。</p>
<p>またライン・プロットと同じように引数<code class="docutils literal notranslate"><span class="pre">ax</span></code>を使うことにより，複数の散布図を重ねてプロットできる。次のコードは<code class="docutils literal notranslate"><span class="pre">X</span></code>と<code class="docutils literal notranslate"><span class="pre">Y</span></code>，そして<code class="docutils literal notranslate"><span class="pre">X</span></code>と<code class="docutils literal notranslate"><span class="pre">Z</span></code>の散布図を同じ「軸」に表示している。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df1はDataFrame</span>

<span class="n">ax_</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Yのデータ&#39;</span><span class="p">)</span>
<span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span>
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Zのデータ&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax_</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/eaa18818b1ac9714dccb4d049e69668999422c946bec295bd5917ac300accb4f.png" src="_images/eaa18818b1ac9714dccb4d049e69668999422c946bec295bd5917ac300accb4f.png" />
</div>
</div>
</section>
<section id="id17">
<h3>ヒストグラム<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<p>ヒストグラムは次の構文となる。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>この場合，<code class="docutils literal notranslate"><span class="pre">df1</span></code>にある全ての列（整数型もしくは浮動小数点型）がヒストグラムとして重ねて表示される。特定の列だけを使う場合は次のように列を選択して<code class="docutils literal notranslate"><span class="pre">plot()</span></code>を使おう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df1[&#39;Y&#39;]はSeries</span>

<span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/20203ad4a00539b5511c103a673f736dc1aff58f5f73e7e0a2b456924e87545a.png" src="_images/20203ad4a00539b5511c103a673f736dc1aff58f5f73e7e0a2b456924e87545a.png" />
</div>
</div>
<p><strong>＜基本的な引数＞</strong></p>
<p>様々な引数があり図に「飾り付け」をすることができる。詳しくは<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.hist.html">このリンク</a>を参照することにして，ここでは基本的な引数だけを紹介する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code>：図のタイトル（文字列型で指定）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bins</span></code>：柱の数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color</span></code>：色（リストにして列の順番で指定する; <a class="reference external" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html">参照サイト</a>）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>は赤</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>は黒</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code>はグリーン</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">edgecolor</span></code>又は<code class="docutils literal notranslate"><span class="pre">ec</span></code>：柱の境界線の色</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alpha</span></code>：透明度（<code class="docutils literal notranslate"><span class="pre">0</span></code>から<code class="docutils literal notranslate"><span class="pre">1.0</span></code>; デフォルトは<code class="docutils literal notranslate"><span class="pre">1</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">density</span></code>：縦軸を相対度数にする（デフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code>）</p>
<ul>
<li><p>全ての柱の<strong>面積</strong>の合計が<code class="docutils literal notranslate"><span class="pre">1</span></code>になるように縦軸が調整される。１つの柱の高さが<code class="docutils literal notranslate"><span class="pre">1</span></code>よりも大きくなる場合もある。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">fontsize</span></code>：横軸・縦軸の数字のフォントサイズの設定</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize</span></code>：図の大きさ</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize=(キャンバスの横幅、キャンバスの縦の長さ)</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">legend</span></code>：凡例の表示を指定</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>の場合はデフォルトは<code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code>の場合はデフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">label</span></code>：凡例の表現を指定（<code class="docutils literal notranslate"><span class="pre">Series</span></code>のみ有効）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grid</span></code>：グリッド表示（ブール型;デフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subplots</span></code>：複数の図をプロットする（詳細はライン・プロットを参照）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span></code>：プロットする「軸」を指定する。</p></li>
</ul>
<p>引数を指定して<code class="docutils literal notranslate"><span class="pre">X</span></code>のヒストグラムをプロットしてみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># XはSeriesとして抽出されている</span>

<span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span>
         <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
         <span class="n">title</span><span class="o">=</span><span class="s1">&#39;タイトルです&#39;</span><span class="p">,</span>
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
         <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
         <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
         <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
         <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
         <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Xの凡例&#39;</span><span class="p">,</span>
         <span class="n">grid</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9b0fb49987db5933146cb5b6228d2a07506b0a8e5490505f159198322e0cf215.png" src="_images/9b0fb49987db5933146cb5b6228d2a07506b0a8e5490505f159198322e0cf215.png" />
</div>
</div>
<p>この図ではタイトルと横軸・縦軸ラベルの大きさが調整できていないが，上で説明した<a class="reference internal" href="#sec-5-titlelabels"><span class="std std-ref">タイトルとラベルのサイズの調整</span></a>のコードと共通なのでそちらを参照しよう。</p>
<p>次に複数のデータを重ねてプロットする場合を考えよう。ここで役に立つ引数が<code class="docutils literal notranslate"><span class="pre">alpha</span></code>である。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span><span class="p">[[</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="s1">&#39;Z&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span>
                    <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">],</span>
                    <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span>
                    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f8e7d27013903750e81343186ce2d66b4d89f1f4695cdfbbee32923417a8e2f0.png" src="_images/f8e7d27013903750e81343186ce2d66b4d89f1f4695cdfbbee32923417a8e2f0.png" />
</div>
</div>
<p>濃い部分が重なっている部分となる。また柱を積み上げて表示するには<code class="docutils literal notranslate"><span class="pre">stacked=True</span></code>（デフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code>）を使う。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span><span class="p">[[</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="s1">&#39;Z&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> 
                    <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">],</span>
                    <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
                    <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/da0112ace29232094274e7845ea8bfe545e333244465f2c14804ca45e8a8a84f.png" src="_images/da0112ace29232094274e7845ea8bfe545e333244465f2c14804ca45e8a8a84f.png" />
</div>
</div>
<p>赤の上に黒が積み上げられている。</p>
</section>
<section id="sec-5-kernel">
<span id="id18"></span><h3>カーネル密度推定プロット<a class="headerlink" href="#sec-5-kernel" title="Link to this heading">#</a></h3>
<p>ヒストグラムは縦軸に度数，横軸に階級を取ったグラフだが，関連する手法にカーネル密度推定と呼ばれるものがある。考え方は簡単で，上のようなヒストグラムのデータに基づき面積が１になるようにスムーズな分布を推定する手法である。ヒストグラムとカーネル密度関数を重ねてプロットすることもできる。</p>
<p>次の構文となる。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>この場合，<code class="docutils literal notranslate"><span class="pre">df1</span></code>にある全ての列がヒストグラムとして重ねて表示される。特定の列だけを使う場合は列を選択して<code class="docutils literal notranslate"><span class="pre">plot()</span></code>を使う。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b1ce3bd505bc0408e5a57a32ceea3acd44b3b2f2bb5788b381ecbfa0459fd9d5.png" src="_images/b1ce3bd505bc0408e5a57a32ceea3acd44b3b2f2bb5788b381ecbfa0459fd9d5.png" />
</div>
</div>
<p><strong>＜基本的な引数＞</strong></p>
<p>様々な引数があり図に「飾り付け」をすることができる。詳しくは<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.kde.html">このリンク</a>を参照することにして，ここでは基本的な引数だけを紹介する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code>：図のタイトル（文字列型で指定）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linestyle</span></code>又は<code class="docutils literal notranslate"><span class="pre">style</span></code>：線のスタイル（リストにして列の順番で指定する;<code class="docutils literal notranslate"><span class="pre">-</span></code>，<code class="docutils literal notranslate"><span class="pre">--</span></code>，<code class="docutils literal notranslate"><span class="pre">-.</span></code>，<code class="docutils literal notranslate"><span class="pre">:</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linewidth</span></code> or <code class="docutils literal notranslate"><span class="pre">lw</span></code>：線の幅</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color</span></code>：色（リストにして列の順番で指定する; <a class="reference external" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html">参照サイト</a>）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>は赤</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>は黒</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code>はグリーン</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">alpha</span></code>：透明度（<code class="docutils literal notranslate"><span class="pre">0</span></code>から<code class="docutils literal notranslate"><span class="pre">1.0</span></code>; デフォルトは<code class="docutils literal notranslate"><span class="pre">1</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fontsize</span></code>：横軸・縦軸の数字のフォントサイズの設定</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize</span></code>：図の大きさ</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize=(キャンバスの横幅、キャンバスの縦の長さ)</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">legend</span></code>：凡例の表示を指定</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>の場合はデフォルトは<code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code>の場合はデフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">label</span></code>：凡例の表現を指定（<code class="docutils literal notranslate"><span class="pre">Series</span></code>のみ有効）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grid</span></code>：グリッド表示（ブール型;デフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span></code>：プロットする「軸」を指定する。</p></li>
</ul>
<p>引数を指定して<code class="docutils literal notranslate"><span class="pre">X</span></code>をプロットしてみる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># XはSeriesとして抽出されている</span>

<span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">,</span>
         <span class="n">title</span><span class="o">=</span><span class="s1">&#39;タイトルです&#39;</span><span class="p">,</span>
         <span class="n">linewidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
         <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-.&#39;</span><span class="p">,</span>
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
         <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
         <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
         <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
         <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Xの凡例&#39;</span><span class="p">,</span>
         <span class="n">grid</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/05de4499c566960440e1ef1948c03e94229a599cba4d56ca2afd9c4911b09573.png" src="_images/05de4499c566960440e1ef1948c03e94229a599cba4d56ca2afd9c4911b09573.png" />
</div>
</div>
<p>この図ではタイトルと横軸・縦軸ラベルの大きさが調整できていないが，上で説明した<a class="reference internal" href="#sec-5-titlelabels"><span class="std std-ref">タイトルとラベルのサイズの調整</span></a>のコードと共通なのでそちらを参照しよう。</p>
<p>次にヒストグラムとカーネル密度推定プロットを重ねて図示してみる。ここで重要な点がヒストグラムに引数<code class="docutils literal notranslate"><span class="pre">density=True</span></code>を設定することである。これがないと縦軸の単位が異なり上手く表示できない。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax_</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span>
                    <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Xのヒストグラム&#39;</span><span class="p">,</span>
                    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">,</span>
              <span class="n">ax</span><span class="o">=</span><span class="n">ax_</span><span class="p">,</span>
              <span class="n">label</span><span class="o">=</span><span class="s1">&#39;XのKDE&#39;</span><span class="p">,</span>
              <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/64ea15bd6436e1697474b9f156c633bc54411ff469816efb5be71a74fea01bca.png" src="_images/64ea15bd6436e1697474b9f156c633bc54411ff469816efb5be71a74fea01bca.png" />
</div>
</div>
</section>
<section id="id19">
<h3>縦線・横線<a class="headerlink" href="#id19" title="Link to this heading">#</a></h3>
<p>図に縦線や横線を追加したい場合がある。その場合は，<a class="reference internal" href="#sec-5-titlelabels"><span class="std std-ref">タイトルとラベルのサイズの調整</span></a>にあるように「軸」に追加していく事になる。次のような書き方となる。</p>
<ul>
<li><p>縦線の場合</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ax_.axvline(＜横軸の値＞)
</pre></div>
</div>
<p>ここで<code class="docutils literal notranslate"><span class="pre">axvline</span></code>の<code class="docutils literal notranslate"><span class="pre">ax</span></code>はAXis，<code class="docutils literal notranslate"><span class="pre">v</span></code>はVertical，<code class="docutils literal notranslate"><span class="pre">line</span></code>はLINEのことを表している。</p>
</li>
<li><p>横線の場合</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ax_.axhline(＜縦軸の値＞)
</pre></div>
</div>
<p>ここで<code class="docutils literal notranslate"><span class="pre">axhline</span></code>の<code class="docutils literal notranslate"><span class="pre">ax</span></code>はAXis，<code class="docutils literal notranslate"><span class="pre">h</span></code>はHorizontal，<code class="docutils literal notranslate"><span class="pre">line</span></code>はLINEのことを表している。</p>
</li>
</ul>
<p>ここで<code class="docutils literal notranslate"><span class="pre">ax_</span></code>は<code class="docutils literal notranslate"><span class="pre">.plot()</span></code>で返された「軸」のことである。</p>
<p><code class="docutils literal notranslate"><span class="pre">Y</span></code>のヒストグラムを使ってプロットしてみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax_</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/49bae8b792be49649f2daf7f4d45867772a8d42c3ea9c832954254c21207d946.png" src="_images/49bae8b792be49649f2daf7f4d45867772a8d42c3ea9c832954254c21207d946.png" />
</div>
</div>
<p><strong>＜基本的な引数＞</strong></p>
<p>様々な引数があり図に「飾り付け」をすることができる。詳しくは<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.axvline.html">このリンク</a>と<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.axhline.html">このリンク</a>を参照することにして，ここでは基本的な引数だけを紹介する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ymin</span></code>：<code class="docutils literal notranslate"><span class="pre">axvline</span></code>の縦軸における最小値（<code class="docutils literal notranslate"><span class="pre">0</span></code>~<code class="docutils literal notranslate"><span class="pre">1</span></code>の値; デフォルト<code class="docutils literal notranslate"><span class="pre">0</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ymax</span></code>：<code class="docutils literal notranslate"><span class="pre">axvline</span></code>の縦軸における最大値（<code class="docutils literal notranslate"><span class="pre">0</span></code>~<code class="docutils literal notranslate"><span class="pre">1</span></code>の値; デフォルト<code class="docutils literal notranslate"><span class="pre">1</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xmin</span></code>：<code class="docutils literal notranslate"><span class="pre">axhline</span></code>の横軸における最小値（<code class="docutils literal notranslate"><span class="pre">0</span></code>~<code class="docutils literal notranslate"><span class="pre">1</span></code>の値; デフォルト<code class="docutils literal notranslate"><span class="pre">0</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xmax</span></code>：<code class="docutils literal notranslate"><span class="pre">axhline</span></code>の横軸における最大値（<code class="docutils literal notranslate"><span class="pre">0</span></code>~<code class="docutils literal notranslate"><span class="pre">1</span></code>の値; デフォルト<code class="docutils literal notranslate"><span class="pre">1</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linestyle</span></code>：線のスタイル（リストにして列の順番で指定する;<code class="docutils literal notranslate"><span class="pre">-</span></code> <code class="docutils literal notranslate"><span class="pre">--</span></code> <code class="docutils literal notranslate"><span class="pre">-.</span></code> <code class="docutils literal notranslate"><span class="pre">:</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linewidth</span></code> or <code class="docutils literal notranslate"><span class="pre">lw</span></code>：線の幅</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color</span></code>：色（リストにして列の順番で指定する; <a class="reference external" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html">参照サイト</a>）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>は赤</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>は黒</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code>はグリーン</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">alpha</span></code>：透明度（<code class="docutils literal notranslate"><span class="pre">0</span></code>から<code class="docutils literal notranslate"><span class="pre">1.0</span></code>; デフォルトは<code class="docutils literal notranslate"><span class="pre">1</span></code>）</p></li>
</ul>
<p>引数を指定してプロットしてみる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax_</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">ymin</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
            <span class="n">ymax</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
            <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span>
            <span class="n">linewidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span>
            <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">xmin</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
            <span class="n">xmax</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
            <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-.&#39;</span><span class="p">,</span>
            <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span>
            <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e481ac24087065778b34064e7682573efa2dfbdb89578ff278a9f2625aefe35b.png" src="_images/e481ac24087065778b34064e7682573efa2dfbdb89578ff278a9f2625aefe35b.png" />
</div>
</div>
<p>最後に上のヒストグラムとカーネル密度推定プロットに縦線を加えてみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax_</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span>
                    <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Xのヒストグラム&#39;</span><span class="p">,</span>
                    <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df1</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">,</span>
              <span class="n">ax</span><span class="o">=</span><span class="n">ax_</span><span class="p">,</span>
              <span class="n">label</span><span class="o">=</span><span class="s1">&#39;XのKDE&#39;</span><span class="p">,</span>
              <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e0f1a268f5317ca99c73a1c7149b8b683c362507fd540360d205a9d9b1d488a1.png" src="_images/e0f1a268f5317ca99c73a1c7149b8b683c362507fd540360d205a9d9b1d488a1.png" />
</div>
</div>
</section>
<section id="sec-5-bar">
<span id="id20"></span><h3>棒グラフ<a class="headerlink" href="#sec-5-bar" title="Link to this heading">#</a></h3>
<p>まず次のコードでデータを準備しよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;country&#39;</span><span class="p">:[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">],</span>
                    <span class="s1">&#39;gdp&#39;</span><span class="p">:[</span><span class="mi">100</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">110</span><span class="p">],</span>
                    <span class="s1">&#39;con&#39;</span><span class="p">:[</span><span class="mi">50</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">55</span><span class="p">],</span>
                    <span class="s1">&#39;inv&#39;</span><span class="p">:[</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">],</span>
                    <span class="s1">&#39;gov&#39;</span><span class="p">:[</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">30</span><span class="p">],</span>
                    <span class="s1">&#39;netex&#39;</span><span class="p">:[</span><span class="mi">25</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">5</span><span class="p">]})</span>
</pre></div>
</div>
</div>
</div>
<p>３国のGDPとその構成要素からなる<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>である。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">country</span></code>：国</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gdp</span></code>：GDP</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">con</span></code>：消費</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inv</span></code>：投資</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gov</span></code>：政府支出</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">netex</span></code>：純輸出</p></li>
</ul>
<p>この<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>を使って棒グラフの作成方法を説明するが，次の構文となる。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>df1.plot(＜横軸の列ラベル＞, ＜縦軸の列ラベル＞, kind=&#39;bar&#39;)
</pre></div>
</div>
<p>まずA国の<code class="docutils literal notranslate"><span class="pre">gdp</span></code>の棒グラフを表示してみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="s1">&#39;gdp&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0aa605a804b52c978b2b5bd215fcf10a9f0751d01e6ec49cd58dd1f8f631f275.png" src="_images/0aa605a804b52c978b2b5bd215fcf10a9f0751d01e6ec49cd58dd1f8f631f275.png" />
</div>
</div>
<p>複数の棒（データ）を並べたい場合もあるだろう。その場合は<code class="docutils literal notranslate"><span class="pre">＜縦軸の列ラベル＞</span></code>にリストとして指定すれば表示できる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;gdp&#39;</span><span class="p">,</span><span class="s1">&#39;con&#39;</span><span class="p">],</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/63b0cbe3231fa6621b3e991b24febdd478ebb7014bd3599c2a42e5a4a170a9e4.png" src="_images/63b0cbe3231fa6621b3e991b24febdd478ebb7014bd3599c2a42e5a4a170a9e4.png" />
</div>
</div>
<p><strong>＜基本的な引数＞</strong></p>
<p>詳しい引数についての説明は<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.bar.html">このリンク</a>を参照することにして，ここでは基本的な引数だけを紹介する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">color</span></code>：色（リストにして列の順番で指定する; <a class="reference external" href="https://matplotlib.org/3.1.0/gallery/color/named_colors.html">参照サイト</a>）</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>又は<code class="docutils literal notranslate"><span class="pre">red</span></code>：赤</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>又は<code class="docutils literal notranslate"><span class="pre">black</span></code>：黒</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code>又は<code class="docutils literal notranslate"><span class="pre">green</span></code>：グリーン</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">stacked</span></code>：（ブール型;デフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p>
<ul>
<li><p>複数データを使う場合に棒を積み上げるかどうかを指定</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">fontsize</span></code>：横軸・縦軸の数字のフォントサイズの設定</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize</span></code>：図の大きさ</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">figsize=(キャンバスの横幅、キャンバスの縦の長さ)</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">legend</span></code>：凡例の表示を指定</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>の場合はデフォルトは<code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">label</span></code>：凡例の表現を指定</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grid</span></code>：グリッド表示（ブール型;デフォルトは<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rot</span></code>(rotationの略)：横軸の変数の表示の角度（デフォルトは<code class="docutils literal notranslate"><span class="pre">90</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subplots</span></code>：複数の図をプロットする（詳細はライン・プロットを参照）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span></code>：プロットする「軸」を指定する。</p></li>
</ul>
<p>これらの引数を使いプロットしてみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;con&#39;</span><span class="p">,</span><span class="s1">&#39;inv&#39;</span><span class="p">,</span><span class="s1">&#39;gov&#39;</span><span class="p">,</span><span class="s1">&#39;netex&#39;</span><span class="p">],</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span>
         <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="s1">&#39;orange&#39;</span><span class="p">],</span>
         <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
         <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="c1">#          legend=False       </span>
         <span class="n">label</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;消費&#39;</span><span class="p">,</span><span class="s1">&#39;投資&#39;</span><span class="p">,</span><span class="s1">&#39;政府支出&#39;</span><span class="p">,</span><span class="s1">&#39;純輸出&#39;</span><span class="p">],</span>
         <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">rot</span><span class="o">=</span><span class="mi">0</span>
        <span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/149d09a62b3a4bfeab25d96ac40b364a93ce29169cd91f9038c7327e7bed28d7.png" src="_images/149d09a62b3a4bfeab25d96ac40b364a93ce29169cd91f9038c7327e7bed28d7.png" />
</div>
</div>
<p>次に，ライン・プロットを追加する例を考えてみよう。<code class="docutils literal notranslate"><span class="pre">df2</span></code>には列<code class="docutils literal notranslate"><span class="pre">gdp</span></code>があり，それを表すライン・プロットを重ねることにしよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax_</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;con&#39;</span><span class="p">,</span><span class="s1">&#39;inv&#39;</span><span class="p">,</span><span class="s1">&#39;gov&#39;</span><span class="p">,</span><span class="s1">&#39;netex&#39;</span><span class="p">],</span>
         <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span>
         <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
         <span class="n">label</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;消費&#39;</span><span class="p">,</span><span class="s1">&#39;投資&#39;</span><span class="p">,</span><span class="s1">&#39;政府支出&#39;</span><span class="p">,</span><span class="s1">&#39;純輸出&#39;</span><span class="p">],</span>
         <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">df2</span><span class="p">[</span><span class="s1">&#39;gdp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>      <span class="c1"># ライン・プロット (Series)</span>
                      <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
                      <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                      <span class="n">label</span><span class="o">=</span><span class="s1">&#39;国内総生産&#39;</span><span class="p">,</span>
                      <span class="n">ax</span><span class="o">=</span><span class="n">ax_</span><span class="p">)</span>       <span class="c1"># Seriesに有効</span>

<span class="n">ax_</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;３カ国のGDPと構成要素&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;国&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">ax_</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;単位：億米ドル&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/15cd83115ac775fe412b3773eed35031ca46a9f924a017692c56f8c34358ca80.png" src="_images/15cd83115ac775fe412b3773eed35031ca46a9f924a017692c56f8c34358ca80.png" />
</div>
</div>
<p>棒の高さとGDPのマーカーの高さは同じであることがわかる。このコードでは次の点に注意する必要がある。<code class="docutils literal notranslate"><span class="pre">gdp</span></code>を<code class="docutils literal notranslate"><span class="pre">Series</span></code>として抽出し，メソッド<code class="docutils literal notranslate"><span class="pre">plot()</span></code>を使っていることである。これにより，凡例の表記を自由に変更できることになる。</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="4_matplotlib.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code>：図示</p>
      </div>
    </a>
    <a class="right-next"
       href="7_SciPy_optimize.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><code class="docutils literal notranslate"><span class="pre">SciPy.optimize</span></code>：解の求め方と最適化問題</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">説明</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">プロット方法</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sec-5-options">引数とメソッド</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">基本的な引数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sec-5-titlelabels">タイトルとラベルのサイズの調整</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">「軸」を指定してプロットする場合</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">図を並べる</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">２軸グラフ</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">日本語</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#japanize-matplotlib"><code class="docutils literal notranslate"><span class="pre">japanize_matplotlib</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">フォントを指定する</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">マクロ経済学の例</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">投資関数</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">将来価値</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">その他のプロット</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">種類</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">散布図</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">ヒストグラム</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sec-5-kernel">カーネル密度推定プロット</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">縦線・横線</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sec-5-bar">棒グラフ</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By 春山 鉄源  Tetsugen HARUYAMA
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <!-- Default Statcounter code for Py4Basics https://py4basics.github.io --> <script type="text/javascript"> var sc_project=12615270; var sc_invisible=1; var sc_security="2a7796f0"; </script> <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script> <noscript><div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img class="statcounter" src="https://c.statcounter.com/12615270/0/2a7796f0/1/" alt="Web Analytics" referrerPolicy="no-referrer-when-downgrade"></a></div></noscript> <!-- End of Statcounter Code -->
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>
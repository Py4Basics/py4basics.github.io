
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>関数とメソッド &#8212; 経済学のためのPython入門</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/my_style.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://py4basics.github.io/1_Basics_III.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="制御フロー" href="1_Basics_IV.html" />
    <link rel="prev" title="データの操作" href="1_Basics_II.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-165998213-3', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">経済学のためのPython入門</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="この本を検索..." aria-label="この本を検索..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Python入門I
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="1_Basics_I.html">
   基本データ型と変数
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_Basics_II.html">
   データの操作
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   関数とメソッド
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_Basics_IV.html">
   制御フロー
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_Basics_V.html">
   モジュールと疑似コード
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_Basics_VI.html">
   図示とシミュレーション
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Python入門II
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="2_NumPy.html">
   <code class="docutils literal notranslate">
    <span class="pre">
     NumPy
    </span>
   </code>
   ：高速化
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3_Pandas.html">
   <code class="docutils literal notranslate">
    <span class="pre">
     Pandas
    </span>
   </code>
   ：データ分析
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4_matplotlib.html">
   <code class="docutils literal notranslate">
    <span class="pre">
     Matplotlib
    </span>
   </code>
   ：図示
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5_pandas_plot.html">
   <code class="docutils literal notranslate">
    <span class="pre">
     Pandas
    </span>
   </code>
   ：図示
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://py4etrics.github.io/5_SciPy_stats.html">
   SciPy.stats：確率分布
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7_SciPy_optimize.html">
   <code class="docutils literal notranslate">
    <span class="pre">
     SciPy.optimize
    </span>
   </code>
   ：解の求め方と最適化問題
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  参考
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="0_Preparations.html">
   ツールのインストールと説明
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="things_to_note.html">
   Tipsと注意点
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Grade.html">
   学業成績の分析
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Gapminder.html">
   Gapminder
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Moving_Average.html">
   移動平均
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  経済学
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://py4macro.github.io">
   Pythonで学ぶマクロ経済学（中級＋レベル）
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://py4etrics.github.io">
   Pythonで学ぶ入門計量経済学
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <a  href="https://github.com/Py4Basics/py4basics.github.io">&#128200;&#127891;&#128202; <!-- Default Statcounter code for Py4Basics https://py4basics.github.io --> <script type="text/javascript"> var sc_project=12615270; var sc_invisible=1; var sc_security="2a7796f0"; </script> <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script> <noscript><div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img class="statcounter" src="https://c.statcounter.com/12615270/0/2a7796f0/1/" alt="Web Analytics" referrerPolicy="no-referrer-when-downgrade"></a></div></noscript> <!-- End of Statcounter Code --></a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="ナビゲーションを切り替え" aria-controls="site-navigation"
                title="ナビゲーションを切り替え" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="このページをダウンロード"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/1_Basics_III.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="ソースファイルをダウンロード" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="PDFに印刷"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="全画面モード"
        title="全画面モード"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/Py4Basics/py4basics.github.io/source?urlpath=tree/1_Basics_III.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="発売 Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/Py4Basics/py4basics.github.io/blob/source/1_Basics_III.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="発売 Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> 目次
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   関数と引数
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   組み込み関数
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sum">
     <code class="docutils literal notranslate">
      <span class="pre">
       sum()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#abs">
     <code class="docutils literal notranslate">
      <span class="pre">
       abs()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#print">
     <code class="docutils literal notranslate">
      <span class="pre">
       print()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#range">
     <code class="docutils literal notranslate">
      <span class="pre">
       range()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#len">
     <code class="docutils literal notranslate">
      <span class="pre">
       len()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dir">
     <code class="docutils literal notranslate">
      <span class="pre">
       dir()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   ヘルプ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   ユーザー定義の関数
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     基本
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     引数の位置が重要
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     実行する際に
     <code class="docutils literal notranslate">
      <span class="pre">
       =
      </span>
     </code>
     を使う
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     関数を定義する際に
     <code class="docutils literal notranslate">
      <span class="pre">
       =
      </span>
     </code>
     を使う
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     戻り値が複数の場合
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     ドキュメンテーション文字列
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lambda">
     <code class="docutils literal notranslate">
      <span class="pre">
       lambda
      </span>
     </code>
     関数
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     経済学を考える
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id13">
       将来価値
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id14">
       現在価値
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id15">
       複利計算
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#object">
   オブジェクトと属性
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id17">
   スコープ
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     説明
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id19">
     教訓１
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id20">
     教訓２
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>関数とメソッド</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> 目次 </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   関数と引数
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   組み込み関数
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sum">
     <code class="docutils literal notranslate">
      <span class="pre">
       sum()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#abs">
     <code class="docutils literal notranslate">
      <span class="pre">
       abs()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#print">
     <code class="docutils literal notranslate">
      <span class="pre">
       print()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#range">
     <code class="docutils literal notranslate">
      <span class="pre">
       range()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#len">
     <code class="docutils literal notranslate">
      <span class="pre">
       len()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dir">
     <code class="docutils literal notranslate">
      <span class="pre">
       dir()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   ヘルプ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   ユーザー定義の関数
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     基本
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     引数の位置が重要
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     実行する際に
     <code class="docutils literal notranslate">
      <span class="pre">
       =
      </span>
     </code>
     を使う
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     関数を定義する際に
     <code class="docutils literal notranslate">
      <span class="pre">
       =
      </span>
     </code>
     を使う
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     戻り値が複数の場合
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     ドキュメンテーション文字列
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lambda">
     <code class="docutils literal notranslate">
      <span class="pre">
       lambda
      </span>
     </code>
     関数
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     経済学を考える
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id13">
       将来価値
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id14">
       現在価値
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id15">
       複利計算
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#object">
   オブジェクトと属性
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id17">
   スコープ
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     説明
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id19">
     教訓１
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id20">
     教訓２
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="id1">
<h1>関数とメソッド<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id2">
<h2>関数と引数<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>コードを書くうえで関数は非常に重要な役割を果たすのが関数である。主に２つのタイプに分けることができる。</p>
<ul class="simple">
<li><p>組み込み関数（最初から準備されている関数）</p></li>
<li><p>ユーザー定義の関数（ユーザー自身が作成する関数）</p></li>
</ul>
<p>名前から想像できるが，プログラミングの関数は数学の関数と非常に似ている。数学の<span class="math notranslate nohighlight">\(y=f(x)\)</span>という関数を考えてみよう。より具体的に<span class="math notranslate nohighlight">\(f(x)=x^2\)</span>と置いてみよう。<span class="math notranslate nohighlight">\(x\)</span>は<span class="math notranslate nohighlight">\(-\infty\)</span>から<span class="math notranslate nohighlight">\(\infty\)</span>の実数を取ることができ，それらに対応する<span class="math notranslate nohighlight">\(y\)</span>の値が返される関数である。<code class="docutils literal notranslate"><span class="pre">Python</span></code>でも同じ関数を簡単に作ることができる。例えば，<code class="docutils literal notranslate"><span class="pre">func(x)</span></code>という関数だとしよう。<code class="docutils literal notranslate"><span class="pre">Python</span></code>では次の用語を使う。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">func</span></code>：関数名</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>：引数</p></li>
</ul>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<div name="html-admonition">
Do you want to read in a differnt language? Start
<input type="button" onclick="location.href='https://translate.google.com/translate?hl=&sl=ja&tl=en&u='+window.location;" value="Google" style="color:#ffffff;background-color:#008080;" onmouseover="this.style.background='#99ccff'" onmouseout="this.style.background='#008080'"/><input type="button" onclick="location.href='https://translate.google.com/translate?hl=&sl=ja&tl=en&u='+window.location;" value="translation" style="color:#ffffff;background-color:#008080;" onmouseover="this.style.background='#99ccff'" onmouseout="this.style.background='#008080'"/>
in English or the language of your choice.
</div>
</div>
<p>次に，実際に関数を実行し計算するためには<span class="math notranslate nohighlight">\(x\)</span>に値（例えば，2）を指定する必要がある。数学の関数<span class="math notranslate nohighlight">\(f(x)\)</span>であれば<span class="math notranslate nohighlight">\(f(2)\)</span>と置くが，<code class="docutils literal notranslate"><span class="pre">Python</span></code>の関数でも同様に<code class="docutils literal notranslate"><span class="pre">func(2)</span></code>と書き，<code class="docutils literal notranslate"><span class="pre">4</span></code>が返される。この場合，次の用語を使う。</p>
<ul class="simple">
<li><p><strong>引数値</strong>：引数に指定した値である<code class="docutils literal notranslate"><span class="pre">2</span></code></p></li>
</ul>
<p>まとめると，引数とは関数を実行する前に定義することになり，引数値を指定することにより関数を実行することができる。</p>
</div>
<div class="section" id="id3">
<h2>組み込み関数<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>組み込み関数（built-in functions）とは，ユーザーが使えるように事前に準備された関数である。以下が既出の組込み関数である。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type()</span></code>：データ型を調べる</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int()</span></code>：整数型に変換</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">float()</span></code>：不動小数点型に変換</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str()</span></code>：文字列型に変換</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bool()</span></code>：真偽値の確認</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list()</span></code>：リストの作成（へ変換）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tuple()</span></code>：タプルの作成（へ変換）</p></li>
</ul>
<p>以下では別の基本的な関数を６つ紹介する。</p>
<div class="section" id="sum">
<h3><code class="docutils literal notranslate"><span class="pre">sum()</span></code><a class="headerlink" href="#sum" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">sum()</span></code>は合計を計算する関数である。引数にリストやタプルを使う。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdp_component</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]</span>

<span class="nb">sum</span><span class="p">(</span><span class="n">gdp_component</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="abs">
<h3><code class="docutils literal notranslate"><span class="pre">abs()</span></code><a class="headerlink" href="#abs" title="Permalink to this headline">¶</a></h3>
<p>絶対値を返す。<code class="docutils literal notranslate"><span class="pre">abs</span></code>はabsolute value（絶対値）の略。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">abs</span><span class="p">(</span><span class="mf">10.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10.5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mf">10.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10.5
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="print">
<h3><code class="docutils literal notranslate"><span class="pre">print()</span></code><a class="headerlink" href="#print" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">print()</span></code>は表示するための関数であり，引数に表示したい値を置く。Jupyter Notebookでは<code class="docutils literal notranslate"><span class="pre">print()</span></code>を使わなくとも出力が表示される。例えば，</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10
</pre></div>
</div>
</div>
</div>
<p>しかし複数行の場合は最後の行しか表示されない。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">10</span>
<span class="mi">200</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">print()</span></code>を使うと両方を表示することができる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10
200
</pre></div>
</div>
</div>
</div>
<p>異なるオブジェクトを表示するには<code class="docutils literal notranslate"><span class="pre">,</span></code>を使う。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;2020年の実質GDP：約&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="o">+</span><span class="mf">25.7</span><span class="p">,</span> <span class="s1">&#39;兆円&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020年の実質GDP：約 525.7 兆円
</pre></div>
</div>
</div>
</div>
<p>文字列の中で<code class="docutils literal notranslate"><span class="pre">\n</span></code>は改行を示す。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;マクロ</span><span class="se">\n</span><span class="s1">経済学&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>マクロ
経済学
</pre></div>
</div>
</div>
</div>
<p>次に<code class="docutils literal notranslate"><span class="pre">f-string</span></code>を紹介する。文字列の前に<code class="docutils literal notranslate"><span class="pre">f</span></code>を書き加え，文字列の中で<code class="docutils literal notranslate"><span class="pre">{}</span></code>を使うことにより，割り当てた変数の値や計算結果などを表示することが可能となる。次の例を考えよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;3分の2は</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">です。&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3分の2は0.6666666666666666です。
</pre></div>
</div>
</div>
</div>
<p><strong>四捨五入</strong>し小数点第３位まで表示する場合は，<code class="docutils literal notranslate"><span class="pre">x</span></code>の後に<code class="docutils literal notranslate"><span class="pre">:.3f</span></code>を付け加える。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;3分の2は約</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">です。&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3分の2は約0.667です。
</pre></div>
</div>
</div>
</div>
<p>＜<code class="docutils literal notranslate"><span class="pre">:.3f</span></code>の解釈＞</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">:</span></code>はこの後に続くコードは表示に関するものだと「宣言」している。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.</span></code>は小数点表示に関しての設定であることを示している。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>は小数点第３位を示している。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>は<code class="docutils literal notranslate"><span class="pre">float</span></code>の<code class="docutils literal notranslate"><span class="pre">f</span></code></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">3f</span></code>を<code class="docutils literal notranslate"><span class="pre">5f</span></code>にすると，小数点第５位までの四捨五入となる。試してみよう。</p>
<p>他の引数も指定することができる。次の２つを紹介する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sep</span></code>：</p>
<ul>
<li><p>複数の値を<code class="docutils literal notranslate"><span class="pre">,</span></code>で区切って表示する際，値の間に入る区切り文字を指定する。</p></li>
<li><p>デフォルトは半角スペース</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">end</span></code>：</p>
<ul>
<li><p>行末にをどうするかを指定する</p></li>
<li><p>デフォルトは<code class="docutils literal notranslate"><span class="pre">\n</span></code>（改行）</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>  <span class="c1"># 区切り文字なし</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;__&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A B C
ABC
A__B__C
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>  <span class="c1"># 改行なし</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;___&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A B
A BA___
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="range">
<h3><code class="docutils literal notranslate"><span class="pre">range()</span></code><a class="headerlink" href="#range" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">range()</span></code>は等差数列のオブジェクトを用意する関数である。次の書き方となる。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">stop</span><span class="p">,</span><span class="n">step</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code>：最初の整数（引数を与えない場合は<code class="docutils literal notranslate"><span class="pre">0</span></code>）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stop</span></code>：最後の整数の次の値</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step</span></code>：隣接する整数の差（公差）（引数を与えない場合は<code class="docutils literal notranslate"><span class="pre">1</span></code>）</p></li>
</ul>
<p>例えば，<code class="docutils literal notranslate"><span class="pre">0</span></code>から<code class="docutils literal notranslate"><span class="pre">9</span></code>までの<code class="docutils literal notranslate"><span class="pre">10</span></code>の整数を生成するには</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>range(0, 10)
</pre></div>
</div>
</div>
</div>
<p>とする。用途が明確ではないと感じるかもしれないが，後述する<code class="docutils literal notranslate"><span class="pre">for</span></code>ループで多用することになる。またリストとして表示するには<code class="docutils literal notranslate"><span class="pre">list()</span></code>を使う。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">x_list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">list()</span></code>関数を使って様々な例を表示しよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">15</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">30</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30]
</pre></div>
</div>
</div>
</div>
<p>上の例では<code class="docutils literal notranslate"><span class="pre">start</span></code><span class="math notranslate nohighlight">\(&lt;\)</span><code class="docutils literal notranslate"><span class="pre">end</span></code>となっているが，不等号を逆にして<code class="docutils literal notranslate"><span class="pre">step</span></code>に負の整数を使うと降順の値が並ぶことになる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[10, 8, 6, 4, 2, 0, -2, -4, -6, -8]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="len">
<h3><code class="docutils literal notranslate"><span class="pre">len()</span></code><a class="headerlink" href="#len" title="Permalink to this headline">¶</a></h3>
<p>要素の個数などを返す関数であり，引数としてリストやタプル，今後紹介する他のデータ型にも使える。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(3, 3, 3)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="dir">
<h3><code class="docutils literal notranslate"><span class="pre">dir()</span></code><a class="headerlink" href="#dir" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Python</span></code>では全てがオブジェクトと言われており，そのオブジェクトの「中身」を見るための関数が<code class="docutils literal notranslate"><span class="pre">dir()</span></code>（directoryの略）である。使い方は，以下でより詳しく説明する。</p>
</div>
</div>
<div class="section" id="id4">
<h2>ヘルプ<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>組み込み関数<code class="docutils literal notranslate"><span class="pre">help()</span></code>を使うと関数やモジュールなど説明を表示させることができる。例えば，<code class="docutils literal notranslate"><span class="pre">print()</span></code>を例として挙げる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on built-in function print in module builtins:

print(...)
    print(value, ..., sep=&#39; &#39;, end=&#39;\n&#39;, file=sys.stdout, flush=False)
    
    Prints the values to a stream, or to sys.stdout by default.
    Optional keyword arguments:
    file:  a file-like object (stream); defaults to the current sys.stdout.
    sep:   string inserted between values, default a space.
    end:   string appended after the last value, default a newline.
    flush: whether to forcibly flush the stream.
</pre></div>
</div>
</div>
</div>
<p>引数は関数名であり<code class="docutils literal notranslate"><span class="pre">()</span></code>は付いていないことに留意しよう。<code class="docutils literal notranslate"><span class="pre">()</span></code>を付けると<code class="docutils literal notranslate"><span class="pre">print()</span></code>を評価した結果に対しての説明が表示されることになる。英語での説明だがパターンを理解すればこれだけでも有用に感じることだろう。</p>
<p><code class="docutils literal notranslate"><span class="pre">help()</span></code>の代わりに<code class="docutils literal notranslate"><span class="pre">?</span></code>を使うこともできる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print<span class="o">?</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2>ユーザー定義の関数<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id6">
<h3>基本<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">def</span></code>を使って関数を定義し，引数が設定される（省略される場合もある）。ここでは基本となる引数のみを考えるが，引数の<strong>位置</strong>と<code class="docutils literal notranslate"><span class="pre">=</span></code>が重要な役割を果たすことになる。例を使いながら説明しよう。最初の例は数字の2乗を計算する関数である。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func_0</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>１行目：</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">def</span></code>で始まり（<code class="docutils literal notranslate"><span class="pre">def</span></code>はdefinitionの省略形）<code class="docutils literal notranslate"><span class="pre">:</span></code>で終わる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">func_0</span></code>が関数名，<code class="docutils literal notranslate"><span class="pre">x</span></code>が第１引数（ひきすう）であり、この例では唯一の引数である。</p></li>
</ul>
</li>
<li><p>２行目：</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">return</span></code>は評価した値を「戻す」もしくは「返す」という意味。必ず<code class="docutils literal notranslate"><span class="pre">return</span></code>の前にはインデント（通常4つの半角スペース）が必要であり，ないとエラーになる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x**2</span></code>という戻り値（返り値）の設定をする</p></li>
</ul>
</li>
</ul>
<p>関数を評価するには，引数に数字を入れて実行する。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">func_0</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p>引数が無い関数を定義することを可能である。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func_100</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">10</span><span class="o">**</span><span class="mi">2</span>

<span class="n">func_100</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">print()</span></code>関数を追加することもできる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func_kobe</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;経済学はおもしろい(^o^)/&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="n">func_kobe</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>経済学はおもしろい(^o^)/
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id7">
<h3>引数の位置が重要<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>引数が複数ある場合にその位置が重要になってくる。次の例を考えよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func_1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">func_1</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">func_1</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10.2
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id8">
<h3>実行する際に<code class="docutils literal notranslate"><span class="pre">=</span></code>を使う<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>関数を実行する際、引数に<code class="docutils literal notranslate"><span class="pre">=</span></code>を使って値を指定することも可能である。この場合，引数の順番を変えることが可能となる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">func_1</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15.0
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">=</span></code>が付いていない引数は該当する位置に書く必要があり，<code class="docutils literal notranslate"><span class="pre">10</span></code>が最初に来ないとエラーとなる。一般的なルールとして，<code class="docutils literal notranslate"><span class="pre">=</span></code>を使う引数は全て<code class="docutils literal notranslate"><span class="pre">()</span></code>の右端にまとめる。</p>
<ul class="simple">
<li><p>関数を実行する際に<code class="docutils literal notranslate"><span class="pre">=</span></code>無しで関数に渡される引数は，その位置が重要であるため<strong>位置引数</strong>と呼ばれる。</p></li>
<li><p>関数を実行する際に<code class="docutils literal notranslate"><span class="pre">=</span></code>付きで関数に渡される引数は<strong>キーワード引数</strong>と呼ばれる。</p></li>
</ul>
</div>
<div class="section" id="id9">
<h3>関数を定義する際に<code class="docutils literal notranslate"><span class="pre">=</span></code>を使う<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>関数を定義する際に<code class="docutils literal notranslate"><span class="pre">=</span></code>を使って引数のデフォルトの値を設定することができる。即ち，引数を入力すると入力された数値を使うが，引数を入力しない場合は引数に予め設定した値（デフォルトの値）が使われて評価される。次の例では<code class="docutils literal notranslate"><span class="pre">c</span></code>のデフォルトの値が<code class="docutils literal notranslate"><span class="pre">10</span></code>に設定されている。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func_2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">])</span><span class="o">*</span><span class="n">c</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">c</span></code>の値を設定しない場合とする場合を比較してみる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">func_2</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">func_2</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(50, 500)
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>関数を定義する際の引数を「仮引数（parameter）」と呼ばれ，関数を実行する際の引数は「実引数（argument）」と呼ばれる。例として<code class="docutils literal notranslate"><span class="pre">func_2</span></code>関数を考えると，<code class="docutils literal notranslate"><span class="pre">a</span></code>，<code class="docutils literal notranslate"><span class="pre">b</span></code>，<code class="docutils literal notranslate"><span class="pre">c</span></code>は仮引数である。関数を実行する次のコードでは，<code class="docutils literal notranslate"><span class="pre">2</span></code>，<code class="docutils literal notranslate"><span class="pre">3</span></code>，<code class="docutils literal notranslate"><span class="pre">100</span></code>が実引数となる。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func_2</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>しかし一般的には両方とも単に「引数」と呼ぶことが多いだろう。</p>
</div>
</div>
<div class="section" id="id10">
<h3>戻り値が複数の場合<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func_3</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span>

<span class="n">func_3</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(3, 9, 27)
</pre></div>
</div>
</div>
</div>
<p>この場合、戻り値はタプルとして返される（タプルは<code class="docutils literal notranslate"><span class="pre">,</span></code>で定義されることを思い出そう）。これを利用して、関数を実行する際に変数にに戻り値のを割り当てることができる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">func_3</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
16
64
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>上のコードの戻り値はタプルなため，それに合わせて次のように書くこともできる。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="o">=</span> <span class="n">func_3</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>しかしタプルは<code class="docutils literal notranslate"><span class="pre">,</span></code>で定義されるので、<code class="docutils literal notranslate"><span class="pre">()</span></code>を省いても問題ない。</p>
</div>
<p>また次のコードでも同じ結果となる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">func_3</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
16
64
</pre></div>
</div>
</div>
</div>
<p>ここでは返り値のタプル自体を<code class="docutils literal notranslate"><span class="pre">d</span></code>に割り当て、その各要素を<code class="docutils literal notranslate"><span class="pre">print()</span></code>関数で表示している。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(4, 16, 64)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id11">
<h3>ドキュメンテーション文字列<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>文字列はシングルクォーテーション<code class="docutils literal notranslate"><span class="pre">'</span></code>もしくはダブルクォーテーション<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>を使い作成するが，それと別にドキュメンテーション文字列（<code class="docutils literal notranslate"><span class="pre">docstring</span></code>）というものがある。こちらも<code class="docutils literal notranslate"><span class="pre">'</span></code>もしくは<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>を使い，複数行にまたがって文字列を作成することができる。次の例は，<strong>the Zen of Python</strong>（<code class="docutils literal notranslate"><span class="pre">Python</span></code>コードを書く上での19の原則）と呼ばれる文章の一部である。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Beautiful is better than ugly.</span>
<span class="s2">Explicit is better than implicit.</span>
<span class="s2">Simple is better than complex.</span>
<span class="s2">Complex is better than complicated.</span>
<span class="s2">Flat is better than nested.</span>
<span class="s2">Sparse is better than dense.</span>
<span class="s2">Readability counts.&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
</pre></div>
</div>
</div>
</div>
<p>この例が示す様に，<code class="docutils literal notranslate"><span class="pre">print</span></code>関数を使うと改行も含めてそのまま表示される。</p>
<p>これを使ってユーザー定義の関数の説明を付け加えることにより，他人や将来の自分が関数を読む場合に可読性を高めることができる。次のような書き方となる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func_0</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;この関数はxの２乗の値を返す。</span>
<span class="sd">    引数：</span>
<span class="sd">        x：整数型もしくは不動小数点型</span>
<span class="sd">    戻り値：</span>
<span class="sd">        xの２乗&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<p>また<code class="docutils literal notranslate"><span class="pre">help()</span></code>関数を使うと付け加えて説明が表示されることになる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">func_0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function func_0 in module __main__:

func_0(x)
    この関数はxの２乗の値を返す。
    引数：
        x：整数型もしくは不動小数点型
    戻り値：
        xの２乗
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="lambda">
<h3><code class="docutils literal notranslate"><span class="pre">lambda</span></code>関数<a class="headerlink" href="#lambda" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">def</span></code>を使い複雑な関数を定義することができるが，単純な関数の場合，より簡単な方法がある。それが<code class="docutils literal notranslate"><span class="pre">lambda</span></code>関数である。例として，<span class="math notranslate nohighlight">\(x^2\)</span>を計算する関数を考えよう。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>この関数を<code class="docutils literal notranslate"><span class="pre">lambda</span></code>関数で書き直すと次の様になる。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function_name</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>右辺にある<code class="docutils literal notranslate"><span class="pre">lambda</span></code>は<code class="docutils literal notranslate"><span class="pre">lambda</span></code>関数を定義する部分であり，<code class="docutils literal notranslate"><span class="pre">def</span></code>のように必ず必要である。実際に実行してみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">func_3</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">func_3</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id12">
<h3>経済学を考える<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id13">
<h4>将来価値<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>：時間（年; 0,1,2,…）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>：名目利子率（例えば，0.02）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>：実質利子率（例えば，0.05）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pi</span></code>：インフレ率（例えば，0.03）</p></li>
</ul>
<p>次の式が成立する。</p>
<div class="math notranslate nohighlight">
\[
1+r=\dfrac{1+i}{1+pi}
\]</div>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code>万円を年率<code class="docutils literal notranslate"><span class="pre">i</span></code>%の利息を得る金融商品に投資し，<code class="docutils literal notranslate"><span class="pre">t</span></code>年後に現金化するとしよう。その間のインフレ率は<code class="docutils literal notranslate"><span class="pre">pi</span></code>%とした場合の<code class="docutils literal notranslate"><span class="pre">x</span></code>万円の実質将来価値を計算する関数を考える。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">future_value</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">i</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">pi</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">r</span><span class="p">)</span><span class="o">**</span><span class="n">t</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">future_value</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>121.20505797930663
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id14">
<h4>現在価値<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">t</span></code>年後に<code class="docutils literal notranslate"><span class="pre">x</span></code>万円をもらえるとしよう。<code class="docutils literal notranslate"><span class="pre">x</span></code>万円の現在価値を計算する関数を考える。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">current_value</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">i</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">inf</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">r</span><span class="p">)</span><span class="o">**</span><span class="n">t</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">current_value</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>82.50480769298673
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id15">
<h4>複利計算<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">y0</span></code>：元金</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>：投資期間</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>：実質利子率（年率）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m</span></code>：複利の周期（年間の利息発生回数）</p>
<ul>
<li><p>例えば，毎月利息が発生する場合は<code class="docutils literal notranslate"><span class="pre">m=12</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">yt</span></code>：<code class="docutils literal notranslate"><span class="pre">t</span></code>年後の元利合計</p></li>
</ul>
<div class="math notranslate nohighlight">
\[
yt=y0\left( 1+\dfrac{r}{m}  \right)^{mt}
\]</div>
<p><code class="docutils literal notranslate"><span class="pre">t</span></code>年後の元利合計を計算する関数を考えよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_yt</span><span class="p">(</span><span class="n">y0</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">y0</span><span class="o">*</span><span class="p">(</span> <span class="mi">1</span><span class="o">+</span><span class="n">r</span><span class="o">/</span><span class="n">m</span> <span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="n">m</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">calculate_yt</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>162.8894626777442
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">calculate_yt</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>164.700949769028
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="object">
<span id="id16"></span><h2>オブジェクトと属性<a class="headerlink" href="#object" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Python</span></code>を習うと「オブジェクト」という単語が必ず出てくる。今の内にイメージをつかむために自転車をオブジェクトの例として考えてみよう。通常の自転車には車輪が２つあり、サドルが１つあり、左右にペダルが２つある。これらの数字が自転車に関する<strong>データ</strong>である。またペダルを踏むことにより前に動き、ハンドルを右にきると右方向に進むことになる。即ち、あることを実行すると、ある結果が返されるのである。これは数学の<strong>関数</strong>と同じように理解できる。<span class="math notranslate nohighlight">\(y=x^2\)</span>の場合、<span class="math notranslate nohighlight">\(x\)</span>が<code class="docutils literal notranslate"><span class="pre">2</span></code>であれば<span class="math notranslate nohighlight">\(y\)</span>の値として<code class="docutils literal notranslate"><span class="pre">4</span></code>が返される。このように自転車はデータと関数が備わっているオブジェクトとして考えることができる。また、車輪の数やペダルを踏むことは自転車特有のデータと関数であり、他のオブジェクト（例えば、冷蔵庫）にはない。即ち、世の中の「オブジェクト」にはそれぞれ異なるデータと関数が存在していると考えることができる。</p>
<p><code class="docutils literal notranslate"><span class="pre">Python</span></code>の世界でも「すべて」をこれと同じように考える。上のコードの<code class="docutils literal notranslate"><span class="pre">10</span></code>にもデータと関数が備わっており、それらを<strong>属性</strong>（attributes）と呼ぶ。<code class="docutils literal notranslate"><span class="pre">10</span></code>は単なる数字に見えるが、実は様々な属性から構成されるオブジェクトなのである。上の例の自転車のように、<code class="docutils literal notranslate"><span class="pre">Python</span></code>の「属性」は次の２つに分類される。<code class="docutils literal notranslate"><span class="pre">10</span></code>を例にとると、</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">10</span></code>が持つ様々な<strong>データ属性</strong>（data attribute）（例えば、<code class="docutils literal notranslate"><span class="pre">10</span></code>という値や整数という情報）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">10</span></code>特有の関数である<strong>メソッド</strong>（method）（例えば、加算、除算のように<code class="docutils literal notranslate"><span class="pre">10</span></code>というデータに働きかける関数）</p></li>
</ol>
<p>を指す（呼称については<a class="reference external" href="https://docs.python.org/ja/3/tutorial/classes.html#instance-objects">Pythonの公式サイト</a>を参照）。自転車と冷蔵庫は異なるデータと関数を持つように、整数<code class="docutils literal notranslate"><span class="pre">10</span></code>と文字列<code class="docutils literal notranslate"><span class="pre">マクロ経済学</span></code>は異なるデータと関数を備えるオブジェクトなのである。この考え方は<code class="docutils literal notranslate"><span class="pre">Python</span></code>のすべてに当てはまる。即ち、Everything is an object in Python.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>データ属性もメソッドもオブジェクトの属性には変わりないが，これ以降このサイトではこの２つを次のように呼ぶことにする。</p>
<ul class="simple">
<li><p>データ属性 → 「属性」</p></li>
<li><p>メソッド → 「メソッド」</p></li>
</ul>
</div>
<p>属性の例を考えるために浮動小数点型<code class="docutils literal notranslate"><span class="pre">10.0</span></code>を<code class="docutils literal notranslate"><span class="pre">y</span></code>に割り当てよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="mf">10.0</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">y</span></code>の属性は<code class="docutils literal notranslate"><span class="pre">dir()</span></code>という組み込み関数を使うことにより表示できる。</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;__abs__&#39;,
 &#39;__add__&#39;,
 &#39;__bool__&#39;,
 &#39;__ceil__&#39;,
 &#39;__class__&#39;,
 &#39;__delattr__&#39;,
 &#39;__dir__&#39;,
 &#39;__divmod__&#39;,
 &#39;__doc__&#39;,
 &#39;__eq__&#39;,
 &#39;__float__&#39;,
 &#39;__floor__&#39;,
 &#39;__floordiv__&#39;,
 &#39;__format__&#39;,
 &#39;__ge__&#39;,
 &#39;__getattribute__&#39;,
 &#39;__getformat__&#39;,
 &#39;__getnewargs__&#39;,
 &#39;__gt__&#39;,
 &#39;__hash__&#39;,
 &#39;__init__&#39;,
 &#39;__init_subclass__&#39;,
 &#39;__int__&#39;,
 &#39;__le__&#39;,
 &#39;__lt__&#39;,
 &#39;__mod__&#39;,
 &#39;__mul__&#39;,
 &#39;__ne__&#39;,
 &#39;__neg__&#39;,
 &#39;__new__&#39;,
 &#39;__pos__&#39;,
 &#39;__pow__&#39;,
 &#39;__radd__&#39;,
 &#39;__rdivmod__&#39;,
 &#39;__reduce__&#39;,
 &#39;__reduce_ex__&#39;,
 &#39;__repr__&#39;,
 &#39;__rfloordiv__&#39;,
 &#39;__rmod__&#39;,
 &#39;__rmul__&#39;,
 &#39;__round__&#39;,
 &#39;__rpow__&#39;,
 &#39;__rsub__&#39;,
 &#39;__rtruediv__&#39;,
 &#39;__set_format__&#39;,
 &#39;__setattr__&#39;,
 &#39;__sizeof__&#39;,
 &#39;__str__&#39;,
 &#39;__sub__&#39;,
 &#39;__subclasshook__&#39;,
 &#39;__truediv__&#39;,
 &#39;__trunc__&#39;,
 &#39;as_integer_ratio&#39;,
 &#39;conjugate&#39;,
 &#39;fromhex&#39;,
 &#39;hex&#39;,
 &#39;imag&#39;,
 &#39;is_integer&#39;,
 &#39;real&#39;]
</pre></div>
</div>
</div>
</div>
<p>この中の最後にある<code class="docutils literal notranslate"><span class="pre">real</span></code>は数字の実部を表し，実数である<code class="docutils literal notranslate"><span class="pre">10.0</span></code>の実部は<code class="docutils literal notranslate"><span class="pre">10.0</span></code>である。一方，<code class="docutils literal notranslate"><span class="pre">imag</span></code>は複素数の虚部を表すが，<code class="docutils literal notranslate"><span class="pre">10.0</span></code>は複素数ではないので<code class="docutils literal notranslate"><span class="pre">0.0</span></code>になっている。（上で紹介しなかったが，データ型に複素数型もある。）</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="n">imag</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(10.0, 0.0)
</pre></div>
</div>
</div>
</div>
<p>上の属性のリストにある<code class="docutils literal notranslate"><span class="pre">_</span></code>はアンダースコア（underscore）と呼ぶが，２つ連続した場合<code class="docutils literal notranslate"><span class="pre">__</span></code>となりダブル・アンダースコア（double underscore）と呼ぶ。長いのでダンダー（dunder）と省略する場合が多々ある。ダンダーが付いている属性は<code class="docutils literal notranslate"><span class="pre">Python</span></code>が裏で使うものでありユーザーが直接使う属性ではない。</p>
<p>次にメソッドを考えるために次のリストを例に挙げる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>

<span class="nb">dir</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;__add__&#39;,
 &#39;__class__&#39;,
 &#39;__class_getitem__&#39;,
 &#39;__contains__&#39;,
 &#39;__delattr__&#39;,
 &#39;__delitem__&#39;,
 &#39;__dir__&#39;,
 &#39;__doc__&#39;,
 &#39;__eq__&#39;,
 &#39;__format__&#39;,
 &#39;__ge__&#39;,
 &#39;__getattribute__&#39;,
 &#39;__getitem__&#39;,
 &#39;__gt__&#39;,
 &#39;__hash__&#39;,
 &#39;__iadd__&#39;,
 &#39;__imul__&#39;,
 &#39;__init__&#39;,
 &#39;__init_subclass__&#39;,
 &#39;__iter__&#39;,
 &#39;__le__&#39;,
 &#39;__len__&#39;,
 &#39;__lt__&#39;,
 &#39;__mul__&#39;,
 &#39;__ne__&#39;,
 &#39;__new__&#39;,
 &#39;__reduce__&#39;,
 &#39;__reduce_ex__&#39;,
 &#39;__repr__&#39;,
 &#39;__reversed__&#39;,
 &#39;__rmul__&#39;,
 &#39;__setattr__&#39;,
 &#39;__setitem__&#39;,
 &#39;__sizeof__&#39;,
 &#39;__str__&#39;,
 &#39;__subclasshook__&#39;,
 &#39;append&#39;,
 &#39;clear&#39;,
 &#39;copy&#39;,
 &#39;count&#39;,
 &#39;extend&#39;,
 &#39;index&#39;,
 &#39;insert&#39;,
 &#39;pop&#39;,
 &#39;remove&#39;,
 &#39;reverse&#39;,
 &#39;sort&#39;]
</pre></div>
</div>
</div>
</div>
<p>この中に<code class="docutils literal notranslate"><span class="pre">append</span></code>があるが，<code class="docutils literal notranslate"><span class="pre">my_list</span></code>に要素を追加するメソッドであることは説明した。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">my_list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3, 100]
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>（データ）属性と異なりメソッドは<code class="docutils literal notranslate"><span class="pre">()</span></code>が必要となる。これは関数の<code class="docutils literal notranslate"><span class="pre">()</span></code>に対応している。<code class="docutils literal notranslate"><span class="pre">()</span></code>を「する」もしくは「実行する」と読めば分かりやすいだろう。</p></li>
</ul>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>関数とメソッドの違いは？役割は基本的には同じだが，次の点で異なる。例えば，<code class="docutils literal notranslate"><span class="pre">x=[1,2,3]</span></code>を考えよう。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sum(x)</span></code>の関数<code class="docutils literal notranslate"><span class="pre">sum()</span></code>は<code class="docutils literal notranslate"><span class="pre">x</span></code>から独立して存在する組込み関数であり，<code class="docutils literal notranslate"><span class="pre">x</span></code>に働きかけて合計を返す。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>のメソッド<code class="docutils literal notranslate"><span class="pre">append()</span></code>は<code class="docutils literal notranslate"><span class="pre">x</span></code>に元々備わっている関数であり，<code class="docutils literal notranslate"><span class="pre">x</span></code>に働きかけて引数に指定された要素を追加する。</p></li>
</ul>
<p>即ち，オブジェクトに備わっている関数がメソッドとなる。もう一点付け加えると，<code class="docutils literal notranslate"><span class="pre">x.append()</span></code>の場合，裏では<code class="docutils literal notranslate"><span class="pre">()</span></code>の中に<code class="docutils literal notranslate"><span class="pre">x</span></code>が引数として設定されことになる。</p>
</div>
</div>
<div class="section" id="id17">
<h2>スコープ<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id18">
<h3>説明<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>スコープとは、変数が所属し直接アクセスできるコードの中の「領域」を示す。類似する概念に名前空間（Namespace）もあるが、スコープの情報を記す「表」のことであり、スコープ（Scope）と同義と理解すれば良い。</p>
<p>ここでは基本的に以下のように理解すれば良いであろう。</p>
<ul class="simple">
<li><p>Jupyter Notebookを開始した時点からglobalスコープが始まる。</p></li>
<li><p>関数を定義すると、その関数の範囲内でlocalスコープが生成される。</p></li>
<li><p>globalスコープで定義された変数は、localスコープからアクセスできるが、globalスコープからlocalスコープの変数にはアクセスできない。</p></li>
<li><p>関数を実行すると次の順番で変数を探す。</p>
<ol class="simple">
<li><p>関数のローカス・スコープ</p></li>
<li><p>グローバル・スコープ</p></li>
</ol>
</li>
</ul>
<p>次の例を考えよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Kobe University&quot;</span>  <span class="c1"># globalスコープ</span>

<span class="k">def</span> <span class="nf">scope_0</span><span class="p">():</span>
    <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;神戸大学&quot;</span>  <span class="c1"># localスコープ</span>
    <span class="k">return</span> <span class="n">s</span>

<span class="n">scope_0</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;神戸大学&#39;
</pre></div>
</div>
</div>
</div>
<p>この関数を実行すると、Pythonはまず関数<code class="docutils literal notranslate"><span class="pre">scope_0</span></code>のローカル・スコープ内で変数<code class="docutils literal notranslate"><span class="pre">s</span></code>を探すことになる。ローカル・スコープに<code class="docutils literal notranslate"><span class="pre">s</span></code>があるので、それを返している。次の関数を考えよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">scope_1</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">s</span>

<span class="n">scope_1</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Kobe University&#39;
</pre></div>
</div>
</div>
</div>
<p>この例では、まず<code class="docutils literal notranslate"><span class="pre">Python</span></code>はローカル・スコープに<code class="docutils literal notranslate"><span class="pre">s</span></code>があるかを確かめる。ローカル・スコープにないため、次にグローバル・スコープに<code class="docutils literal notranslate"><span class="pre">s</span></code>がないかを確かめている。グローバル・スコープに<code class="docutils literal notranslate"><span class="pre">s</span></code>があったので、それを返している（ないとエラーが出る）。</p>
<p>次の例では、グローバル・スコープからローカル・スコープの変数へのアクセスを考える。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">scope_2</span><span class="p">():</span>
    <span class="n">s_local</span> <span class="o">=</span> <span class="s1">&#39;Pythonは楽しい(^o^)/&#39;</span>
    <span class="k">return</span> <span class="n">s_local</span>

<span class="n">scope_2</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Pythonは楽しい(^o^)/&#39;
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">s_local</span></code>は関数<code class="docutils literal notranslate"><span class="pre">scope_2</span></code>のローカル・スコープで定義されている。グローバル・スコープからアクセスしようとするとエラーが発生する。</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s_local</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">folders</span><span class="o">/</span><span class="mi">40</span><span class="o">/</span><span class="n">v0v2h0rj7p75rngjf0bh9r040000gn</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">ipykernel_64323</span><span class="o">/</span><span class="mf">3973646127.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">s_local</span>

<span class="ne">NameError</span>: name &#39;s_local&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id19">
<h3>教訓１<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>関数内で使う変数は、可能な限り関数内で定義する方が意図しない結果につながるリスクを軽減できる。</p></li>
<li><p>グローバル・スコープで定義した変数を関数に使いたい場合は、引数として同じ変数を使う。</p></li>
</ul>
</div></blockquote>
<p>次の例を考えよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">a</span></code>は既に定義されたが，この値を忘れて（知らずに）<code class="docutils literal notranslate"><span class="pre">10</span></code>だったと勘違いして次の関数を定義したとしよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">scope_3</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">a</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">scope_3(10)</span></code>は<code class="docutils literal notranslate"><span class="pre">20</span></code>を返すと思って実行すると意図しない結果になる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scope_3</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>14
</pre></div>
</div>
</div>
</div>
<p>このような場合は<code class="docutils literal notranslate"><span class="pre">a</span></code>を引数に使うことにより問題を回避できる。<code class="docutils literal notranslate"><span class="pre">a</span></code>は<code class="docutils literal notranslate"><span class="pre">10</span></code>として関数を実行すると意図した結果となる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">scope_4</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">a</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">a</span>

<span class="n">scope_4</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>20
</pre></div>
</div>
</div>
</div>
<p>この場合、関数<code class="docutils literal notranslate"><span class="pre">scope_4(x,a)</span></code>の<code class="docutils literal notranslate"><span class="pre">a</span></code>はローカス・スコープで定義され、グルーバル・スコープの<code class="docutils literal notranslate"><span class="pre">a</span></code>とは異なる。実際、グルーバル・スコープの<code class="docutils literal notranslate"><span class="pre">a</span></code>の値を確認してみると以前と同じ値である。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p>ちなみに、グローバル・スコープの変数名や関数名は<code class="docutils literal notranslate"><span class="pre">%who</span></code>もしくは<code class="docutils literal notranslate"><span class="pre">%whos</span></code>のコマンドで確認できる。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">who</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a	 b	 c	 calculate_yt	 current_value	 d	 func_0	 func_1	 func_100	 
func_2	 func_3	 func_kobe	 future_value	 gdp_component	 l	 my_list	 s	 scope_0	 
scope_1	 scope_2	 scope_3	 scope_4	 t	 x	 x_list	 y	 
</pre></div>
</div>
</div>
</div>
<p>このリストにある<code class="docutils literal notranslate"><span class="pre">s</span></code>はグローバル・スコープの<code class="docutils literal notranslate"><span class="pre">s</span></code>である。またローカル・スコープにある<code class="docutils literal notranslate"><span class="pre">s_local</span></code>はこのリストには含まれていない。</p>
</div>
<div class="section" id="id20">
<h3>教訓２<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">for</span></code>ループの１行目に使う変数は再割り当てされても構わない変数を使おう。</p>
</div></blockquote>
<p>例を使って説明しよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
2
3
4
</pre></div>
</div>
</div>
</div>
<p>この<code class="docutils literal notranslate"><span class="pre">for</span></code>ループの<code class="docutils literal notranslate"><span class="pre">i</span></code>は<code class="docutils literal notranslate"><span class="pre">range(5)</span></code>の連番<code class="docutils literal notranslate"><span class="pre">0</span></code>、<code class="docutils literal notranslate"><span class="pre">1</span></code>、<code class="docutils literal notranslate"><span class="pre">2</span></code>、<code class="docutils literal notranslate"><span class="pre">3</span></code>、<code class="docutils literal notranslate"><span class="pre">4</span></code>を指す変数として使われるが、グローバル・スコープの変数として存在し、ループの最後の値が割り当てられている。確認してみよう。</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">i</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">for</span></code>ループで使う変数は、ループ用の変数（例えば，<code class="docutils literal notranslate"><span class="pre">i</span></code>，<code class="docutils literal notranslate"><span class="pre">j</span></code>，<code class="docutils literal notranslate"><span class="pre">k</span></code>など）を使うのが良いだろう。</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="1_Basics_II.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">データの操作</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="1_Basics_IV.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">制御フロー</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      著者 春山 鉄源  Tetsugen HARUYAMA<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>